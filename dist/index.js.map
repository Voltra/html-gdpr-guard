{"version":3,"file":"index.js","mappings":"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","sources":["webpack://htmlGdprGuard/webpack/universalModuleDefinition","webpack://htmlGdprGuard/./node_modules/gdpr-guard/dist/gdpr_guard.js","webpack://htmlGdprGuard/webpack/bootstrap","webpack://htmlGdprGuard/webpack/runtime/define property getters","webpack://htmlGdprGuard/webpack/runtime/hasOwnProperty shorthand","webpack://htmlGdprGuard/webpack/runtime/make namespace object","webpack://htmlGdprGuard/./src/errors/HtmlGdprGuardError.ts","webpack://htmlGdprGuard/./src/errors/NoCheckboxError.ts","webpack://htmlGdprGuard/./src/errors/NoManagerDefinitionError.ts","webpack://htmlGdprGuard/./src/errors/NoNameError.ts","webpack://htmlGdprGuard/./src/utils/misc.ts","webpack://htmlGdprGuard/./src/domainLogic/dataExtractors.ts","webpack://htmlGdprGuard/./src/utils/dom.ts","webpack://htmlGdprGuard/./src/domainLogic/guardsParsing.ts","webpack://htmlGdprGuard/./src/utils/eventBus.ts","webpack://htmlGdprGuard/./src/domainLogic/listeners.ts","webpack://htmlGdprGuard/./src/utils/cache.ts","webpack://htmlGdprGuard/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"htmlGdprGuard\"] = factory();\n\telse\n\t\troot[\"htmlGdprGuard\"] = factory();\n})(typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : this, () => {\nreturn ","!function(r,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"gdprGuard\",[],t):\"object\"==typeof exports?exports.gdprGuard=t():r.gdprGuard=t()}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:this,(()=>(()=>{\"use strict\";var r={315:(r,t,e)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.makeGuard=void 0;var n=e(670);t.makeGuard=function(r,t,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=null),{name:r,description:t,storage:e,required:o,enabled:null===i?o:i,enable:function(){return this.enabled||this.toggle(),this},disable:function(){return this.enabled&&this.toggle(),this},toggle:function(){return this.required||(this.enabled=!this.enabled),this},makeRequired:function(){return this.required=!0,this.enabled=!0,this},isEnabled:function(r){return this.name===r&&this.enabled},enableForStorage:function(r){return this.enabled||this.toggleForStorage(r),this},disableForStorage:function(r){return this.enabled&&this.toggleForStorage(r),this},toggleForStorage:function(r){return this.storage!=r||this.required||this.toggle(),this},raw:function(){return JSON.parse(JSON.stringify(this))}}}},822:function(r,t,e){var n=this&&this.__read||function(r,t){var e=\"function\"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,o,i=e.call(r),u=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(r,t,e){if(e||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return r.concat(n||Array.prototype.slice.call(t))},i=this&&this.__values||function(r){var t=\"function\"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&\"number\"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprGuardGroup=void 0;var u=e(670),a=function(){function r(r,t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=!1),void 0===n&&(n=!1),this.name=r,this.description=t,this.enabled=e,this.required=n,this.storage=u.GdprStorage.None,this.bindings=new Map,this.required&&(this.enabled=!0)}return r.for=function(t,e,n,o){return void 0===e&&(e=\"\"),void 0===n&&(n=!1),void 0===o&&(o=!1),new r(t,e,n,o)},r.prototype.addGuard=function(r){return this.bindings.set(r.name,r),this},r.prototype.hasGuard=function(r){return this.name===r||this.bindings.has(r)||this.reduceSubGroupsPred((function(t){return t.hasGuard(r)}))},r.prototype.getGuard=function(r){var t,e;return this.name===r?this:null!==(e=null!==(t=this.bindings.get(r))&&void 0!==t?t:this.reduceSubGroups((function(t){return t.getGuard(r)})))&&void 0!==e?e:null},r.prototype.isEnabled=function(r){if(this.hasGuard(r)){var t=this.getGuard(r);if(null!==t)return t.enabled}return!1},r.prototype.enable=function(){return this.required?this:(this.enabled=!0,this.doForEachGuard((function(r){return r.enable()})))},r.prototype.disable=function(){return this.required?this:(this.enabled=!1,this.doForEachGuard((function(r){return r.disable()})))},r.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},r.prototype.makeRequired=function(){return this.required=!0,this.enabled=!0,this.doForEachGuard((function(r){return r.makeRequired()}))},r.prototype.enableForStorage=function(r){return this.required?this:this.doForEachGuard((function(t){t.enableForStorage(r)}))},r.prototype.disableForStorage=function(r){return this.required?this:this.doForEachGuard((function(t){t.disableForStorage(r)}))},r.prototype.toggleForStorage=function(r){return this.required?this:this.doForEachGuard((function(t){t.toggleForStorage(r)}))},r.prototype.raw=function(){var r={name:this.name,description:this.description,enabled:this.enabled,required:this.required,storage:this.storage,guards:[]};return r.guards=o([],n(this.bindings),!1).map((function(r){var t=n(r,2);return t[0],t[1].raw()})),r},r.prototype.doForEachGuard=function(r){return this.bindings.forEach((function(t){return r(t)})),this},r.prototype.reduceSubGroupsPred=function(t){var e,o;try{for(var u=i(this.bindings),a=u.next();!a.done;a=u.next()){var s=n(a.value,2),d=(s[0],s[1]);if(d instanceof r&&t(d))return!0}}catch(r){e={error:r}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}return!1},r.prototype.reduceSubGroups=function(t){var e,o;try{for(var u=i(this.bindings),a=u.next();!a.done;a=u.next()){var s=n(a.value,2),d=(s[0],s[1]);if(d instanceof r){var c=t(d);if(c)return c}}}catch(r){e={error:r}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}return null},r.prototype.getGuards=function(){return o([],n(this.bindings.values()),!1)},r}();t.GdprGuardGroup=a},777:function(r,t,e){var n=this&&this.__values||function(r){var t=\"function\"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&\"number\"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(r,t){var e=\"function\"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,o,i=e.call(r),u=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(r,t,e){if(e||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return r.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprManager=void 0;var u=e(822),a=e(670),s=e(554),d=e(779),c=function(){function r(){this.bannerWasShown=!1,this.enabled=!0,this.events=new s.GdprManagerEventHub,this.groups=new Map,this.name=\"manager\",this.description=\"Manager of GDPR guard groups\",this.storage=a.GdprStorage.None,this.required=!1}return r.create=function(t){void 0===t&&(t=[]);var e=new r;return t.forEach((function(r){return e.addGroup(r)})),e},r.prototype.closeBanner=function(){var r=this;this.bannerWasShown=!0,(0,d.visitGdpr)(this,{onEach:function(t){t.enabled?r.events.enable(t.name):r.events.disable(t.name)}})},r.prototype.resetAndShowBanner=function(){this.bannerWasShown=!1},r.prototype.createGroup=function(r,t){return void 0===t&&(t=\"\"),this.addGroup(u.GdprGuardGroup.for(r,t))},r.prototype.addGroup=function(r){return this.groups.set(r.name,r),this},r.prototype.hasGuard=function(r){return this.reduceGroupsPred((function(t){return t.hasGuard(r)}))},r.prototype.getGuard=function(r){var t,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=(a[0],a[1]);if(s.hasGuard(r))return s.getGuard(r)}}catch(r){t={error:r}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return null},r.prototype.hasGroup=function(r){return this.reduceGroupsPred((function(t){return t.name===r}))},r.prototype.getGroup=function(r){var t,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=a[0],d=a[1];if(s===r)return d}}catch(r){t={error:r}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return null},r.prototype.isEnabled=function(r){return this.reduceGroupsPred((function(t){return t.isEnabled(r)}))},r.prototype.enable=function(){return this.enabled=!0,this.forEachGroup((function(r){return r.enable()}))},r.prototype.disable=function(){return this.enabled=!1,this.forEachGroup((function(r){return r.disable()}))},r.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},r.prototype.makeRequired=function(){return this},r.prototype.enableForStorage=function(r){return this.forEachGroup((function(t){return t.enableForStorage(r)}))},r.prototype.disableForStorage=function(r){return this.forEachGroup((function(t){return t.disableForStorage(r)}))},r.prototype.toggleForStorage=function(r){return this.forEachGroup((function(t){return t.toggleForStorage(r)}))},r.prototype.raw=function(){var r={bannerWasShown:this.bannerWasShown,enabled:this.enabled,groups:[],name:this.name,description:this.description,storage:this.storage,required:this.required};return r.groups=i([],o(this.groups.values()),!1).map((function(r){return r.raw()})),r},r.prototype.reduceGroupsPred=function(r){var t,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2);if(a[0],r(a[1]))return!0}}catch(r){t={error:r}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!1},r.prototype.forEachGroup=function(r){return this.groups.forEach((function(t){return r(t)})),this},r.prototype.getGroups=function(){return i([],o(this.groups.values()),!1)},r}();t.GdprManager=c},554:(r,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprManagerEventHub=void 0;var e=function(){function r(){this.eventMap={}}return r.prototype.onEnable=function(r,t){return this.addListener(\"enable\",r,t),this},r.prototype.onDisable=function(r,t){return this.addListener(\"disable\",r,t),this},r.prototype.enable=function(r){return this.executeListeners(\"enable\",r),this},r.prototype.disable=function(r){return this.executeListeners(\"disable\",r),this},r.prototype.tagFor=function(r,t){return\"\".concat(r,\"--\").concat(t)},r.prototype.addListener=function(r,t,e){var n=this.tagFor(r,t);n in this.eventMap||(this.eventMap[n]=[]),this.eventMap[n].push(e)},r.prototype.executeListeners=function(r,t){var e,n=this.tagFor(r,t);null===(e=this.eventMap[n])||void 0===e||e.forEach((function(r){return r()}))},r}();t.GdprManagerEventHub=e},670:(r,t)=>{var e;Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprStorage=void 0,function(r){r[r.None=1]=\"None\",r[r.Cookie=2]=\"Cookie\",r[r.LocalStorage=4]=\"LocalStorage\",r[r.SessionStorage=8]=\"SessionStorage\",r[r.IndexedDb=16]=\"IndexedDb\",r[r.FileSystem=16]=\"FileSystem\",r[r.ServerStorage=16]=\"ServerStorage\",r[r.All=30]=\"All\"}(e||(e={})),t.GdprStorage=e},860:function(r,t,e){var n,o=this&&this.__extends||(n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])},n(r,t)},function(r,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function e(){this.constructor=r}n(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),i=this&&this.__read||function(r,t){var e=\"function\"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,o,i=e.call(r),u=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},u=this&&this.__spreadArray||function(r,t,e){if(e||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return r.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprGroupBuilder=void 0;var a=e(670),s=e(237),d=e(822),c=e(890),p=function(r){function t(t,e,n,o,i,u){var a=r.call(this)||this;return a.parent=t,a.name=e,a.description=n,a.enable=i,a.require=u,a.guards=[],a.storage=o,u&&(a.enable=!0),a}return o(t,r),t.create=function(r,e,n,o,i,u){return void 0===n&&(n=\"\"),void 0===o&&(o=null),void 0===i&&(i=!0),void 0===u&&(u=!1),new t(r,e,n,o||a.GdprStorage.Cookie,i,u)},t.prototype.startGroup=function(t,e,n){return void 0===t&&(t=null),void 0===e&&(e=\"\"),void 0===n&&(n=\"\"),r.prototype.startGroup.call(this,t||this.parent.storage,e,n)},t.prototype.startRequiredGroup=function(r,t,e){return void 0===r&&(r=null),void 0===t&&(t=\"\"),void 0===e&&(e=\"\"),this.startGroup(r,t,e).required()},t.prototype.endGroup=function(){var r=this.require||this.enable,t=d.GdprGuardGroup.for(this.name,this.description,r,this.require);return u(u([],i(this.guards),!1),i(this.groups),!1).forEach((function(r){return t.addGuard(r)})),this.require&&t.makeRequired(),this.parent.groups.push(t),this.parent},t.prototype.withName=function(r){return this.edit((function(t){return t.name=r}))},t.prototype.withDescription=function(r){return this.edit((function(t){return t.description=r}))},t.prototype.storedIn=function(r){return this.edit((function(t){return t.storage=r}))},t.prototype.enabled=function(){return this.edit((function(r){return r.enable=!0}))},t.prototype.disabled=function(){return this.edit((function(r){return r.enable=!1}))},t.prototype.required=function(){return this.edit((function(r){return r.require=!0}))},t.prototype.startGuard=function(r){return void 0===r&&(r=null),c.GdprGuardBuilder.create(this,r||this.storage,this.enable)},t.prototype.startRequiredGuard=function(r){return this.startGuard(r).required()},t.prototype.withEnabledGuard=function(r,t,e){return void 0===t&&(t=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(r).withDescription(t).enabled().endGuard()},t.prototype.withDisabledGuard=function(r,t,e){return void 0===t&&(t=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(r).withDescription(t).disabled().endGuard()},t.prototype.edit=function(r){return r(this),this},t}(s.GdprManagerBuilder);t.GdprGroupBuilder=p},890:(r,t,e)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprGuardBuilder=void 0;var n=e(670),o=e(315),i=function(){function r(r,t,e,n){this.parent=r,this.storage=t,this.enable=e,this.require=n,this.name=\"\",this.description=\"\",n&&(this.enable=!0)}return r.create=function(t,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=!1),new r(t,e,o,i)},r.prototype.endGuard=function(){var r=this.require||this.enable,t=(0,o.makeGuard)(this.name,this.description,this.storage,this.require,r);return this.require&&t.makeRequired(),this.parent.guards.push(t),this.parent},r.prototype.withName=function(r){return this.edit((function(t){return t.name=r}))},r.prototype.withDescription=function(r){return this.edit((function(t){return t.description=r}))},r.prototype.enabled=function(){return this.edit((function(r){return r.enable=!0}))},r.prototype.disabled=function(){return this.edit((function(r){return r.enable=!1}))},r.prototype.storedIn=function(r){return this.edit((function(t){return t.storage=r}))},r.prototype.required=function(){return this.edit((function(r){return r.require=!0}))},r.prototype.edit=function(r){return r(this),this},r}();t.GdprGuardBuilder=i},237:(r,t,e)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprManagerBuilder=void 0;var n=e(670),o=e(777),i=e(171),u=function(){function r(){this.storage=n.GdprStorage.Cookie,this.groups=[],this.bannerWasShown=!1}return r.make=function(){return new r},r.prototype.withBannerShown=function(r){void 0===r&&(r=!0),this.bannerWasShown=r},r.prototype.startGroup=function(r,t,e,n){return void 0===r&&(r=null),void 0===t&&(t=\"\"),void 0===e&&(e=\"\"),void 0===n&&(n=!0),i.GdprGroupBuilder.create(this,t,e,r,n,!1)},r.prototype.startRequiredGroup=function(r,t,e){return void 0===r&&(r=null),void 0===t&&(t=\"\"),void 0===e&&(e=\"\"),this.startEnabledGroup(r,t,e).required()},r.prototype.startEnabledGroup=function(r,t,e){return void 0===r&&(r=null),void 0===t&&(t=\"\"),void 0===e&&(e=\"\"),this.startGroup(r,t,e,!0).enabled()},r.prototype.startDisabledGroup=function(r,t,e){return void 0===r&&(r=null),void 0===t&&(t=\"\"),void 0===e&&(e=\"\"),this.startGroup(r,t,e,!1).disabled()},r.prototype.build=function(){var r=o.GdprManager.create(this.groups);return r.bannerWasShown=this.bannerWasShown,r},r.prototype.endGroup=function(){return this},r}();t.GdprManagerBuilder=u},171:function(r,t,e){var n=this&&this.__createBinding||(Object.create?function(r,t,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(t,e);o&&!(\"get\"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,n,o)}:function(r,t,e,n){void 0===n&&(n=e),r[n]=t[e]}),o=this&&this.__exportStar||function(r,t){for(var e in r)\"default\"===e||Object.prototype.hasOwnProperty.call(t,e)||n(t,r,e)};Object.defineProperty(t,\"__esModule\",{value:!0}),o(e(890),t),o(e(237),t),o(e(860),t)},93:function(r,t,e){var n=this&&this.__createBinding||(Object.create?function(r,t,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(t,e);o&&!(\"get\"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,n,o)}:function(r,t,e,n){void 0===n&&(n=e),r[n]=t[e]}),o=this&&this.__exportStar||function(r,t){for(var e in r)\"default\"===e||Object.prototype.hasOwnProperty.call(t,e)||n(t,r,e)};Object.defineProperty(t,\"__esModule\",{value:!0}),o(e(315),t),o(e(822),t),o(e(777),t),o(e(670),t),o(e(554),t),o(e(779),t),o(e(171),t),o(e(891),t),o(e(562),t),o(e(344),t)},562:(r,t,e)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprDeserializer=void 0;var n=e(777),o=e(670),i=e(822),u=e(315),a=[\"enabled\",\"groups\"],s=[\"guards\"],d=[\"name\",\"enabled\",\"required\",\"description\",\"storage\"],c=function(){function r(){}return r.manager=function(r){var t=this;if(!function(r){return a.every((function(t){return t in r}))&&\"boolean\"==typeof r.enabled&&Array.isArray(r.groups)}(r))return null;var e=r.groups.map((function(r){return t.group(r)})).filter((function(r){return null!==r})),o=n.GdprManager.create([]);return o.enabled=!!r.enabled,o.bannerWasShown=!!r.bannerWasShown,e.forEach((function(r){return o.addGroup(r)})),o},r.group=function(r){var t=this,e=this.guard(r);if(null===e)return null;if(!function(r){return s.every((function(t){return t in r}))&&Array.isArray(r.guards)}(r))return null;var n=i.GdprGuardGroup.for(e.name,e.description,e.enabled,e.required),o=r.guards.map((function(r){return s.every((function(t){return t in r}))?t.group(r):t.guard(r)})).filter((function(r){return null!==r}));return o.forEach((function(r){return n.addGuard(r)})),n},r.guard=function(r){return function(r){return d.every((function(t){return t in r}))&&\"string\"==typeof r.name&&\"boolean\"==typeof r.enabled&&\"boolean\"==typeof r.required&&\"string\"==typeof r.description&&\"number\"==typeof r.storage&&r.storage in o.GdprStorage}(r)?(0,u.makeGuard)(r.name,r.description,r.storage,!!r.required,!!r.enabled):null},r}();t.GdprDeserializer=c},344:function(r,t){var e=this&&this.__awaiter||function(r,t,e,n){return new(e||(e=Promise))((function(o,i){function u(r){try{s(n.next(r))}catch(r){i(r)}}function a(r){try{s(n.throw(r))}catch(r){i(r)}}function s(r){var t;r.done?o(r.value):(t=r.value,t instanceof e?t:new e((function(r){r(t)}))).then(u,a)}s((n=n.apply(r,t||[])).next())}))},n=this&&this.__generator||function(r,t){var e,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(e)throw new TypeError(\"Generator is already executing.\");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(e=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(r,u)}catch(r){a=[6,r],n=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprSaviorAdapter=void 0;var o=function(){function r(){}return r.prototype.exists=function(r){return void 0===r&&(r=!0),e(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.restore(r)];case 1:return[2,null!==t.sent()]}}))}))},r.prototype.storeIfNotExists=function(r){return e(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.exists()];case 1:return[2,!!t.sent()||this.store(r)]}}))}))},r.prototype.restoreOrCreate=function(r){return e(this,void 0,void 0,(function(){var t,e;return n(this,(function(n){switch(n.label){case 0:return[4,this.restore()];case 1:return(t=n.sent())?[3,3]:[4,r()];case 2:return e=n.sent(),this.updateSharedManager(e),e.bannerWasShown&&e.closeBanner(),[2,e];case 3:return t.bannerWasShown&&t.closeBanner(),[2,t]}}))}))},r.prototype.check=function(){return e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve()];case 1:return r.sent(),[4,this.exists(!0)];case 2:return r.sent(),[2]}}))}))},r}();t.GdprSaviorAdapter=o},891:(r,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GdprSerializer=void 0;var e=function(){function r(){}return r.serialize=function(r){return r.raw()},r}();t.GdprSerializer=e},779:(r,t,e)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.visitGdpr=void 0;var n=e(777),o=e(822);t.visitGdpr=function(r,e){var i=void 0===e?{}:e,u=i.onManager,a=void 0===u?function(){}:u,s=i.onGroup,d=void 0===s?function(){}:s,c=i.onGuard,p=void 0===c?function(){}:c,l=i.onEach,f=void 0===l?function(){}:l,h={onManager:a,onGroup:d,onGuard:p,onEach:f};r instanceof n.GdprManager?(a(r),f(r),r.getGroups().forEach((function(r){return(0,t.visitGdpr)(r,h)}))):r instanceof o.GdprGuardGroup?(d(r),f(r),r.getGuards().forEach((function(r){return(0,t.visitGdpr)(r,h)}))):(p(r),f(r))}}},t={};return function e(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return r[n].call(i.exports,i,i.exports,e),i.exports}(93)})()));\n//# sourceMappingURL=gdpr_guard.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export class HtmlGdprGuardError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"./HtmlGdprGuardError\";\n\nexport class NoCheckboxError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No checkbox found for that guard\";\n\n\tconstructor(message: string = NoCheckboxError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"./HtmlGdprGuardError\";\n\n/**\n * Error thrown when the library does not find\n * a root {@link HTMLElement} to get the manager's\n * data from\n */\nexport class NoManagerDefinitionError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No definition found for the GDPR manager\";\n\n\tconstructor(message = NoManagerDefinitionError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"./HtmlGdprGuardError\";\n\nexport class NoNameError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"Guard definition is missing the guard's name\";\n\n\tconstructor(message: string = NoNameError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","export const isMeaningfulStr = (str?: string|null): str is string => {\n\treturn !!str && !/^\\s*$/.test(str);\n};\n\nexport const toCamelCase = (str: string): string => {\n\treturn str.replace(/-(\\w)/g, (_, letter: string) => letter.toUpperCase());\n};\n","import { childSelector } from \"../utils/dom\";\nimport { NoNameError, NoCheckboxError, NoManagerDefinitionError } from \"../errors\";\nimport { GdprStorage } from \"gdpr-guard\";\nimport { isMeaningfulStr, toCamelCase } from \"../utils/misc\";\n\n/**\n * Get the guard's name from the DOM\n * @param guardEl - The guard element to query\n * @param guardDataKey - The key in the dataset of {@link guardEl} where the name could be\n * @param nameDataKey - The name of the data attribute that can be found in child nodes to parse the name\n * @throws {NoNameError} - If it can't find the guard's name\n */\nexport const nameFromDOM = (guardEl: HTMLElement, guardDataKey: string, nameDataKey: string = \"gdpr-guard-name\"): string => {\n\tconst str = guardEl.dataset[toCamelCase(guardDataKey)];\n\n\tif (isMeaningfulStr(str)) {\n\t\treturn str.trim();\n\t}\n\n\t// const nameHolder: HTMLElement|null = guardEl.querySelector(`[data-${nameDataKey}]`);\n\tconst nameHolder: HTMLElement|null = childSelector(guardEl, `[data-${nameDataKey}]`);\n\n\tconst name = nameHolder?.dataset[nameDataKey];\n\tif (!isMeaningfulStr(name)) {\n\t\tconst textName = nameHolder?.textContent;\n\n\t\tif (isMeaningfulStr(textName)) {\n\t\t\treturn textName.trim();\n\t\t}\n\n\t\tthrow new NoNameError();\n\t}\n\n\treturn name.trim();\n};\n\n/**\n * Get the guard's checkbox from the DOM\n * @param guardEl - The root of the guard's tree\n * @param guardName - The guard's name\n */\nexport const checkboxFromDOM = (guardEl: HTMLElement, guardName: string) => {\n\tconst strategies = [\n\t\t() => document.getElementById(guardName), // by ID\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][name=\"${guardName}\"]`), // by name\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][data-gdpr-checkbox]`), // by specific attribute\n\t];\n\n\tfor (const strategy of strategies) {\n\t\tconst checkbox = strategy();\n\n\t\tif (checkbox?.matches?.(\"input[type='checkbox']\")) {\n\t\t\treturn checkbox as HTMLInputElement;\n\t\t}\n\t}\n\n\tthrow new NoCheckboxError();\n};\n\n/**\n * Retrieve the guard's description from the DOM\n * @param guardEl - The root of the guard's state tree\n */\nexport const descriptionFromDOM = (guardEl: HTMLElement) => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-description\")) {\n\t\treturn guardEl.dataset.gdprGuardDescription;\n\t}\n\n\tconst descriptionEl = guardEl.querySelector(\"[data-gdpr-guard-description]\");\n\n\treturn descriptionEl?.textContent ?? null;\n};\n\n/**\n * Get the {@link GdprStorage} from the DOM\n * @param guardEl - The root the guard's state tree\n */\nexport const storageFromDOM = (guardEl: HTMLElement): GdprStorage|null => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-storage\")) {\n\t\tconst rawStorage = guardEl.dataset.gdprGuardStorage;\n\n\t\tif (rawStorage && rawStorage in GdprStorage) {\n\t\t\treturn GdprStorage[rawStorage];\n\t\t}\n\t}\n\n\treturn null;\n};\n\n/**\n * Check whether the guard is marked as required in the DOM\n * @param guardEl - The root of the guard's state tree\n * @param checkbox - The guard's checkbox\n */\nexport const guardIsRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement) => {\n\treturn checkbox.required || guardEl.hasAttribute(\"data-gdpr-guard-required\");\n};\n\n/**\n * Sync the required status across all attributes in the DOM\n * @param guardEl - The root of the guard's state tree\n * @param checkbox - The guard's checkbox\n * @param isRequired - Whether the guard is already marked as required\n */\nexport const syncRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement, isRequired: boolean = false) => {\n\tconst makeCheckedDisabled = () => {\n\t\tcheckbox.setAttribute(\"checked\", \"checked\");\n\t\tcheckbox.setAttribute(\"disabled\", \"disabled\");\n\t};\n\n\tconst makeRequired = () => {\n\t\tcheckbox.setAttribute(\"required\", \"required\");\n\t};\n\n\tconst addGdprRequiredAttr = () => {\n\t\tguardEl.setAttribute(\"data-gdpr-guard-required\", \"\");\n\t};\n\n\tif(isRequired) {\n\t\taddGdprRequiredAttr();\n\t\tmakeCheckedDisabled();\n\t\tmakeRequired();\n\t} else if (checkbox.required) {\n\t\taddGdprRequiredAttr();\n\t\tmakeCheckedDisabled();\n\t} else if (guardEl.hasAttribute(\"data-gdpr-guard-required\")) {\n\t\tmakeCheckedDisabled();\n\t\tmakeRequired();\n\t}\n}\n\n/**\n * Extract the manager's own details from the DOM\n * @param gdprEl - The root of the GDPR state tree\n */\nexport const parseManagerDetails = (gdprEl: HTMLElement) => {\n\tlet managerEl = gdprEl;\n\tconst { gdpr } = gdprEl.dataset;\n\tlet managerName: string = \"\";\n\n\tif (isMeaningfulStr(gdpr)) {\n\t\tmanagerName = gdpr;\n\t} else {\n\t\tconst el = gdprEl.querySelector<HTMLElement>(\"[data-gdpr-manager]\");\n\n\t\tif (!el) {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\n\t\tmanagerEl = el as HTMLElement;\n\t\tmanagerName = nameFromDOM(managerEl, \"gdpr-manager\");\n\t}\n\n\tconst managerCheckbox = checkboxFromDOM(managerEl, managerName);\n\n\treturn {\n\t\tmanagerEl,\n\t\tmanagerCheckbox,\n\t\tmanagerName,\n\t};\n};\n","/**\n * Execute an action/callback on each child\n * @param rootEl - The parent element\n * @param action - The action/callback to execute on each child\n */\nexport const forEachChild = (rootEl: HTMLElement, action: (el: HTMLElement) => void) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el) {\n\t\t\taction(el as HTMLElement);\n\t\t}\n\t}\n}\n\nexport const findChild = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\treturn el as HTMLElement;\n\t\t}\n\t}\n\n\treturn null;\n}\n\n/**\n * Find all the children that satisfy the given predicate\n * @param rootEl - The parent element\n * @param predicate - The predicate to satisfy\n */\nexport const findAllChildren = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tconst ret = [] as HTMLElement[];\n\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\tret.push(el as HTMLElement);\n\t\t}\n\t}\n\n\treturn ret;\n};\n\n/**\n * Get the first child that matches the given selector\n * @param rootEl - The parent element\n * @param selector - The children selector\n */\nexport const childSelector = (rootEl: HTMLElement, selector: string) => {\n\treturn findChild(rootEl, el => el.matches(selector));\n}\n\n/**\n * Get all the children of the given root that match the given selector\n * @param rootEl - The parent element\n * @param selector - The children selector\n */\nexport const childSelectorAll = (rootEl: HTMLElement, selector: string) => {\n\treturn findAllChildren(rootEl, el => el.matches(selector));\n};\n","import { GdprGroupBuilder, GdprManagerBuilder } from \"gdpr-guard\";\nimport {\n\tcheckboxFromDOM,\n\tdescriptionFromDOM,\n\tguardIsRequiredInDOM,\n\tnameFromDOM,\n\tstorageFromDOM, syncRequiredInDOM\n} from \"@/domainLogic/dataExtractors\";\nimport { childSelectorAll, forEachChild } from \"@/utils/dom\";\n\nexport interface GuardParseResult {\n\tname: string;\n\tcheckbox: HTMLInputElement;\n}\n\n/**\n * Parse a guard's data and add it to the manager\n * @param guardEl - The root element of the gaurd's data\n * @param groupBuilder - The current group builder's state\n * @param parentRequired - Whether the group is required\n */\nconst addGuard = (guardEl: HTMLElement, groupBuilder: GdprGroupBuilder, parentRequired: boolean): GuardParseResult => {\n\tconst guardBuilder = groupBuilder.startGuard();\n\n\tconst name = nameFromDOM(guardEl, \"gdpr-guard\");\n\tguardBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(guardEl, name);\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(guardEl, checkbox);\n\tsyncRequiredInDOM(guardEl, checkbox, isRequired);\n\n\tif (isRequired) {\n\t\tguardBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tguardBuilder.enabled();\n\t} else {\n\t\tguardBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(guardEl);\n\n\tif (description) {\n\t\tguardBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(guardEl);\n\n\tif (storage !== null) {\n\t\tguardBuilder.storedIn(storage);\n\t}\n\n\tguardBuilder.endGuard();\n\n\treturn {\n\t\tname,\n\t\tcheckbox,\n\t};\n};\n\n/**\n * Get the data for a group and add it to the manager\n * @param groupEl - The root of the group's data\n * @param managerBuilder - The current manager (or group) builder's state\n * @param parentRequired - Whether the manager (or parent group) is required\n * @throws {NoNameError} - If the group's name or a guard's name cannot be parsed\n */\nconst addGroup = (groupEl: HTMLElement, managerBuilder: GdprManagerBuilder, parentRequired: boolean): GuardParseResult[] => {\n\tconst groupBuilder = managerBuilder.startGroup();\n\n\t// The name is mandatory, if it can't parse it then it'll throw\n\tconst name = nameFromDOM(groupEl, \"gdpr-group\");\n\tgroupBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(groupEl, name);\n\n\tconst parsedGuards = [{\n\t\tname,\n\t\tcheckbox,\n\t}];\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(groupEl, checkbox);\n\tsyncRequiredInDOM(groupEl, checkbox, isRequired);\n\n\tif (isRequired) {\n\t\tgroupBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tgroupBuilder.enabled();\n\t} else {\n\t\tgroupBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(groupEl);\n\n\tif (description) {\n\t\tgroupBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(groupEl);\n\n\tif (storage !== null) {\n\t\tgroupBuilder.storedIn(storage);\n\t}\n\n\t// Recursively parse child guards from there\n\tconst guards = addChildGuards(groupEl, groupBuilder, isRequired);\n\tgroupBuilder.endGroup();\n\n\n\tparsedGuards.push(...guards);\n\treturn parsedGuards;\n};\n\n/**\n * Recursively add the child guards of a group to the manager\n * @param rootEl - The root element for that group\n * @param groupBuilder - The current group builder's state\n * @param required - Whether the group is required\n */\nconst addChildGuards = (rootEl: HTMLElement, groupBuilder: GdprGroupBuilder, required: boolean = false): GuardParseResult[] => {\n\tconst parsedGuards = [] as GuardParseResult[];\n\n\tforEachChild(rootEl, el => {\n\t\tif (el?.matches(\"[data-gdpr-group]\")) {\n\t\t\tconst guards = addGroup(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(...guards);\n\t\t} else if (el?.matches(\"[data-gdpr-guard]\")) {\n\t\t\tconst guard = addGuard(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(guard);\n\t\t}\n\t});\n\n\treturn parsedGuards;\n};\n\n/**\n * Get the guards from the DOM and add them all to the manager\n * @param managerEl - The root element of the manager's definition\n * @param managerBuilder - The current manager builder's state\n */\nexport const addGuardsFromDOM = (managerEl: HTMLElement, managerBuilder: GdprManagerBuilder): GuardParseResult[] => {\n\treturn childSelectorAll(managerEl, \"[data-gdpr-group]\")\n\t\t.flatMap(el => {\n\t\t\treturn addGroup(el as HTMLElement, managerBuilder, false);\n\t\t});\n};\n","/**\n * Type for event listeners used in the {@link GlobalEventBus}\n */\ntype Listener = (e: Event) => void;\ntype EventName = string;\ntype Selector = string;\n\nexport const GlobalEventBus = {\n\t/**\n\t * Store the event managers and their listeners\n\t */\n\tevents: {} as Record<EventName, Record<Selector, Listener[]>>,\n\n\t/**\n\t * Add an event listener on the given selector as a live listener (i.e. is not limited to the current matching set of {@link HTMLElement})\n\t * @param event - The name of the event\n\t * @param selector - The selector to match against\n\t * @param listener - The listener to call when the event is triggered on an element that matches the given selector\n\t */\n\ton(event: EventName, selector: Selector, listener: Listener) {\n\t\tdocument.querySelectorAll(selector).forEach(el => {\n\t\t\tel.addEventListener(event, listener);\n\t\t});\n\t}\n};\n","import { GdprGuard, GdprGuardGroup, GdprManager, GdprManagerFactory, GdprSavior } from \"gdpr-guard\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { GlobalEventBus } from \"@/utils/eventBus\";\nimport { GuardParseResult } from \"@/domainLogic/guardsParsing\";\n\n/**\n * Add listeners to the change event of the manager's and guards' checkboxes\n * @param manager - The manager to handle state changes for\n * @param managerCheckbox - The global manager toggle checkbox\n * @param parsedGuards - The guards that have been parsed from the DOM\n * @param hadManager - Whether the manager came from the savior instead of the factory\n */\nexport const setupCheckboxListeners = (manager: GdprManager, managerCheckbox: HTMLInputElement, parsedGuards: GuardParseResult[], hadManager: boolean, updateCheckboxState: () => void) => {\n\tconst handleInitialSync = (checkbox: HTMLInputElement, guard: GdprGuard) => {\n\t\tif (hadManager) {\n\t\t\tif ((checkbox.checked && !guard.enabled) || (!checkbox.checked && guard.enabled)) {\n\t\t\t\tcheckbox.click();\n\t\t\t}\n\t\t}\n\t};\n\n\thandleInitialSync(managerCheckbox, manager);\n\n\tmanagerCheckbox.addEventListener(\"click\", () => {\n\t\tmanager.toggle();\n\t\tupdateCheckboxState();\n\t});\n\n\tparsedGuards.forEach(({ name, checkbox }) => {\n\t\tconst guard = manager.getGuard(name)!;\n\n\t\thandleInitialSync(checkbox, guard);\n\n\t\tcheckbox.addEventListener(\"click\", () => {\n\t\t\tguard.toggle();\n\t\t\tupdateCheckboxState();\n\t\t});\n\t});\n};\n\n/**\n * Setup item activation in the `<head>` tag (i.e. to execute code when the corresponding guard is enabled)\n * @param manager - The manager to attach the activation logic to\n * @param itemSelector - The selector to query all the related items (must include `[data-gdpr-on-enable]`)\n * @param setupItemHook - The function to call to set up the item before putting it in the DOM\n */\nexport const setupInHeadActivation = <ItemType extends HTMLElement = HTMLElement>(\n\tmanager: GdprManager,\n\titemSelector: string,\n\tsetupItemHook: (item: ItemType) => void\n) => {\n\tdocument.querySelectorAll<ItemType>(itemSelector)\n\t\t.forEach(item => {\n\t\t\tconst guardName = item.dataset.gdprOnEnable!;\n\n\t\t\tif (manager.hasGuard(guardName)) {\n\t\t\t\tmanager.events.onEnable(guardName, () => {\n\t\t\t\t\tif (!item) {\n\t\t\t\t\t\treturn; // Already handled, avoid call duplications like this for now\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n\t\t\t\t\t\tScript tags have an internal attribute checking whether\n\t\t\t\t\t\tthey have already been loaded. Cloning a script will\n\t\t\t\t\t\talways clone that flag as well (which is unwanted).\n\t\t\t\t\t */\n\n\t\t\t\t\tconst isScript = item.matches(\"script\");\n\n\t\t\t\t\tconst oldItem = item;\n\t\t\t\t\titem = undefined as any; // cleanup\n\n\n\t\t\t\t\tconst clonedItem = (\n\t\t\t\t\t\tisScript\n\t\t\t\t\t\t\t? document.createElement(\"script\")\n\t\t\t\t\t\t\t: oldItem.cloneNode(true)\n\t\t\t\t\t) as ItemType;\n\n\t\t\t\t\tObject.assign(clonedItem, {\n\t\t\t\t\t\t...oldItem,\n\t\t\t\t\t\ttype: isScript ? \"text/javascript\" : ((oldItem as any).type ?? undefined),\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isScript) {\n\t\t\t\t\t\t// Copy attributes over\n\t\t\t\t\t\toldItem.getAttributeNames().forEach(attrName => {\n\t\t\t\t\t\t\tconst attrValue = oldItem.getAttribute(attrName)!;\n\t\t\t\t\t\t\tclonedItem.setAttribute(attrName, attrValue);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tclonedItem.textContent = oldItem.textContent;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetupItemHook(clonedItem);\n\t\t\t\t\tclonedItem.removeAttribute(\"data-gdpr-on-enable\");\n\t\t\t\t\toldItem.remove();\n\t\t\t\t\tdocument.head.appendChild(clonedItem);\n\t\t\t\t});\n\t\t\t} else if(item) {\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t});\n};\n\n\n/**\n * Setup scripts activation logic to load them when the corresponding guard is enabled (type must initially be text and the src attribute mst be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupScriptActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLScriptElement>(\n\t\tmanager,\n\t\t\"script[type='text'][data-gdpr-on-enable]\",\n\t\tactualScript => {\n\t\t\tactualScript.setAttribute(\"type\", \"text/javascript\");\n\t\t}\n\t);\n};\n\n/**\n * Setup stylesheets activation logic to load them when the corresponding guard is enabled (rel attribute must be different from stylesheet and the href attribute must be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupStyleSheetsActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLLinkElement>(\n\t\tmanager,\n\t\t\"link[href][data-gdpr-on-enable]\",\n\t\tactualStyleSheet => {\n\t\t\tactualStyleSheet.setAttribute(\"rel\", \"stylesheet\");\n\t\t}\n\t);\n};\n\nexport type BindEventsCallback = (eventsHub: GdprManagerEventHub, manager: GdprManager) => void;\n\nexport type StoreErrorHandler = (didStore: boolean, error?: Error) => void;\n\nexport interface SetupButtonListenersHooks {\n\tonDeclineAllErrorHook: StoreErrorHandler;\n\tonAllowAllErrorHook: StoreErrorHandler;\n\tonCancelErrorHook: StoreErrorHandler;\n\tonSaveErrorHook: StoreErrorHandler;\n\tonBannerClose: () => void;\n\tonBannerOpen: () => void;\n}\n\n/**\n * Bind event listeners to the general buttons\n * @param manager\n * @param gdprSavior\n * @param hooks\n * @param restoreFactory\n * @param updateCheckboxState\n */\nexport const setupButtonsListeners = (\n\tmanager: GdprManager,\n\tgdprSavior: GdprSavior,\n\thooks: SetupButtonListenersHooks,\n\trestoreFactory: GdprManagerFactory,\n\tupdateCheckboxState: () => void\n) => {\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-open]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.resetAndShowBanner();\n\t\tupdateCheckboxState();\n\t\thooks.onBannerOpen();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-decline-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.disable();\n\t\tupdateCheckboxState();\n\t\tmanager.closeBanner();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\t\tupdateCheckboxState();\n\t\t\t\t\thooks.onDeclineAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\thooks.onBannerClose();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\thooks.onDeclineAllErrorHook(didStore, e as Error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tmanager.resetAndShowBanner();\n\t\t\tupdateCheckboxState();\n\t\t\t\thooks.onDeclineAllErrorHook(false, e)\n\t\t\t});\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-allow-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.enable();\n\t\tupdateCheckboxState();\n\t\tmanager.closeBanner();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\t\tupdateCheckboxState();\n\t\t\t\t\thooks.onAllowAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\thooks.onBannerClose();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\thooks.onAllowAllErrorHook(didStore, e as Error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\tupdateCheckboxState();\n\t\t\t\thooks.onAllowAllErrorHook(false, e)\n\t\t\t});\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-cancel]\", e => {\n\t\te.preventDefault();\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst hadManager = await gdprSavior.exists(false);\n\n\t\t\t\tif (hadManager) {\n\t\t\t\t\tawait gdprSavior.restore(true);\n\t\t\t\t} else {\n\t\t\t\t\tawait gdprSavior.restoreOrCreate(restoreFactory);\n\t\t\t\t\t//TODO: Use save/restore new API (when it's out, for now the savior API has to suffice)\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\thooks.onCancelErrorHook(true, e as Error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-save]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.closeBanner();\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\t\tupdateCheckboxState();\n\t\t\t\t\thooks.onSaveErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\thooks.onBannerClose();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\thooks.onSaveErrorHook(didStore, e as Error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\tupdateCheckboxState();\n\t\t\t\thooks.onSaveErrorHook(e);\n\t\t\t});\n\t});\n};\n","export class Cache<Key, Value> {\n\tprivate map: Map<Key, Value>;\n\n\tconstructor() {\n\t\tthis.map = new Map();\n\t}\n\n\thas(key: Key): boolean {\n\t\treturn this.map.has(key);\n\t}\n\n\tforget(key: Key): void {\n\t\tthis.map.delete(key);\n\t}\n\n\tput(key: Key, value: Value) {\n\t\tthis.map.set(key, value);\n\t}\n\n\tgetOrEmplace(key: Key, defaultValueFactory: () => Value): Value {\n\t\tif (!this.has(key)) {\n\t\t\tthis.put(key, defaultValueFactory());\n\t\t}\n\n\t\treturn this.get(key)!;\n\t}\n\n\tget(key: Key): Value|undefined {\n\t\treturn this.map.get(key);\n\t}\n}\n","import { NoManagerDefinitionError } from \"./errors\";\nimport { GdprGuard, GdprManager, GdprManagerBuilder, GdprSavior } from \"gdpr-guard\";\nimport { parseManagerDetails } from \"./domainLogic/dataExtractors\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { addGuardsFromDOM } from \"./domainLogic/guardsParsing\";\nimport {\n\tBindEventsCallback,\n\tsetupButtonsListeners,\n\tsetupCheckboxListeners,\n\tsetupScriptActivation,\n\tsetupStyleSheetsActivation,\n\tStoreErrorHandler,\n} from \"./domainLogic/listeners\";\nimport { Cache } from \"@/utils/cache\";\n\nexport type AddGuardsCallback = (managerBuilder: GdprManagerBuilder) => void;\n\nexport interface GdprHtmlManagerOptions {\n\t/**\n\t * The element that serves as the root of the GDPR manager's definition in the DOM\n\t * @default document.querySelector(\"[data-gdpr]\")\n\t */\n\tgdprEl?: HTMLElement;\n\n\t/**\n\t * Whether to auto close the banner (only if it has already been displayed to the user)\n\t * @default true\n\t */\n\tautoCloseBanner?: boolean;\n\n\t/**\n\t * A callback to attach event listeners to the {@link GdprManagerEventHub} before finalizing the setup\n\t * @default () => {}\n\t */\n\tbindEventHandlersHook?: BindEventsCallback;\n\n\t/**\n\t * Add guards before the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsBeforeHook?: AddGuardsCallback;\n\n\t/**\n\t * Add guards after the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsAfterHook?: AddGuardsCallback;\n\n\t/**\n\t * Handle failure of declining all\n\t */\n\tonDeclineAllErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of allowing all\n\t */\n\tonAllowAllErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of saving\n\t */\n\tonSaveErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of cancelling\n\t */\n\tonCancelErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Execute code when closing the banner\n\t */\n\tonBannerClose?: () => void;\n\n\t/**\n\t * Execute code when opening the banner\n\t */\n\tonBannerOpen?: () => void;\n}\n\n// TODO: Reset API in gdpr-guard?\n\n/**\n * Initialize the gdpr-guard logic from the DOM or the provided {@link GdprSavior}\n * @param gdprSavior - The savior to use to restore and save the {@link GdprManager} data\n * @param {GdprHtmlManagerOptions} [options] - The setup's options\n * @returns {Promise<GdprManager>} The restored GDPR manager\n * @throws {NoManagerDefinitionError} - If no manager definition can be found\n * (either {@link gdprEl} is `undefined` or `document.querySelector(\"[data-gdpr]\")` returned `null`)\n */\nexport const restoreHtmlGdprManager = async (gdprSavior: GdprSavior, {\n\tgdprEl = undefined,\n\tautoCloseBanner = true,\n\n\tbindEventHandlersHook = () => {},\n\taddGuardsBeforeHook = () => {},\n\taddGuardsAfterHook = () => {},\n\n\tonDeclineAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onDeclineAllErrorHook]\", {didStore, err}),\n\tonAllowAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onAllowAllErrorHook]\", {didStore, err}),\n\tonSaveErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onSaveErrorHook]\", {didStore, err}),\n\tonCancelErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onCancelErrorHook]\", {didStore, err}),\n\n\tonBannerClose = () => {},\n\tonBannerOpen = () => {},\n}: GdprHtmlManagerOptions = {}): Promise<GdprManager> => {\n\tif (typeof gdprEl === \"undefined\") {\n\t\tgdprEl = document.querySelector<HTMLElement>(\"[data-gdpr]\") ?? undefined;\n\n\t\tif (typeof gdprEl === \"undefined\") {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\t}\n\n\tconst { managerEl, managerCheckbox } = parseManagerDetails(gdprEl);\n\n\tconst managerBuilder = GdprManagerBuilder.make();\n\n\taddGuardsBeforeHook(managerBuilder);\n\tconst parsedGuards = addGuardsFromDOM(managerEl, managerBuilder);\n\taddGuardsAfterHook(managerBuilder);\n\n\tconst managerFactory = async () => managerBuilder.build();\n\tconst hadManager = await gdprSavior.exists(false);\n\tconst manager = await gdprSavior.restoreOrCreate(managerFactory);\n\n\tconst guardCache = new Cache<string, GdprGuard>();\n\tconst updateCheckboxState = () => {\n\t\t// Properly reflect checkbox state updates\n\t\tparsedGuards.forEach(({ name, checkbox }) => {\n\t\t\tconst guard = guardCache.getOrEmplace(name, () => manager.getGuard(name)!);\n\n\t\t\tcheckbox.checked = guard.enabled;\n\t\t});\n\t};\n\n\tsetupScriptActivation(manager);\n\tsetupStyleSheetsActivation(manager);\n\tsetupCheckboxListeners(manager, managerCheckbox, parsedGuards, hadManager, updateCheckboxState);\n\tsetupButtonsListeners(manager, gdprSavior, {\n\t\tonDeclineAllErrorHook,\n\t\tonAllowAllErrorHook,\n\t\tonSaveErrorHook,\n\t\tonCancelErrorHook,\n\t\tonBannerClose,\n\t\tonBannerOpen,\n\t}, managerFactory, updateCheckboxState);\n\n\tbindEventHandlersHook(manager.events, manager);\n\n\tif (autoCloseBanner && manager.bannerWasShown) {\n\t\tmanager.closeBanner();\n\t\tonBannerClose();\n\t} else { // Allows banner to be in closed state by default and open it when JS is ready\n\t\tmanager.resetAndShowBanner();\n\t\tonBannerOpen();\n\t}\n\n\treturn manager;\n};\n\nexport * from \"./errors\";\n"],"names":["root","factory","exports","module","define","amd","self","window","this","t","r","e","Object","defineProperty","value","makeGuard","n","o","i","GdprStorage","Cookie","name","description","storage","required","enabled","enable","toggle","disable","makeRequired","isEnabled","enableForStorage","toggleForStorage","disableForStorage","raw","JSON","parse","stringify","__read","Symbol","iterator","call","u","next","done","push","error","return","__spreadArray","arguments","length","Array","prototype","slice","concat","__values","TypeError","GdprGuardGroup","a","None","bindings","Map","for","addGuard","set","hasGuard","has","reduceSubGroupsPred","getGuard","get","reduceSubGroups","doForEachGuard","guards","map","forEach","s","d","c","getGuards","values","GdprManager","bannerWasShown","events","GdprManagerEventHub","groups","create","addGroup","closeBanner","visitGdpr","onEach","resetAndShowBanner","createGroup","reduceGroupsPred","hasGroup","getGroup","forEachGroup","getGroups","eventMap","onEnable","addListener","onDisable","executeListeners","tagFor","LocalStorage","SessionStorage","IndexedDb","FileSystem","ServerStorage","All","__extends","setPrototypeOf","__proto__","hasOwnProperty","String","constructor","GdprGroupBuilder","p","parent","require","startGroup","startRequiredGroup","endGroup","withName","edit","withDescription","storedIn","disabled","startGuard","GdprGuardBuilder","startRequiredGuard","withEnabledGuard","endGuard","withDisabledGuard","GdprManagerBuilder","make","withBannerShown","startEnabledGroup","startDisabledGroup","build","__createBinding","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","__exportStar","GdprDeserializer","manager","every","isArray","group","filter","guard","__awaiter","Promise","throw","then","apply","__generator","label","sent","trys","ops","pop","GdprSaviorAdapter","exists","restore","storeIfNotExists","store","restoreOrCreate","updateSharedManager","check","resolve","GdprSerializer","serialize","onManager","onGroup","onGuard","l","f","h","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","key","obj","prop","toStringTag","message","Error","NoCheckboxError","defaultMessage","HtmlGdprGuardError","NoManagerDefinitionError","NoNameError","isMeaningfulStr","str","test","nameFromDOM","guardEl","guardDataKey","nameDataKey","dataset","replace","_","letter","toUpperCase","toCamelCase","trim","rootEl","selector","nameHolder","predicate","childElementCount","el","children","item","findChild","matches","textName","textContent","checkboxFromDOM","guardName","strategies","document","getElementById","querySelector","checkbox","strategy","descriptionFromDOM","hasAttribute","gdprGuardDescription","descriptionEl","storageFromDOM","rawStorage","gdprGuardStorage","guardIsRequiredInDOM","syncRequiredInDOM","isRequired","makeCheckedDisabled","setAttribute","addGdprRequiredAttr","groupEl","managerBuilder","parentRequired","groupBuilder","parsedGuards","checked","addChildGuards","action","forEachChild","guardBuilder","GlobalEventBus","event","listener","querySelectorAll","addEventListener","setupInHeadActivation","itemSelector","setupItemHook","gdprOnEnable","isScript","oldItem","clonedItem","createElement","cloneNode","assign","type","getAttributeNames","attrName","attrValue","getAttribute","removeAttribute","remove","head","appendChild","forget","delete","put","getOrEmplace","defaultValueFactory","restoreHtmlGdprManager","gdprSavior","gdprEl","autoCloseBanner","bindEventHandlersHook","addGuardsBeforeHook","addGuardsAfterHook","onDeclineAllErrorHook","didStore","err","console","onAllowAllErrorHook","onSaveErrorHook","onCancelErrorHook","onBannerClose","onBannerOpen","managerEl","gdpr","managerName","managerCheckbox","parseManagerDetails","ret","findAllChildren","flatMap","addGuardsFromDOM","managerFactory","hadManager","guardCache","Cache","updateCheckboxState","actualScript","setupScriptActivation","actualStyleSheet","setupStyleSheetsActivation","handleInitialSync","click","setupCheckboxListeners","hooks","restoreFactory","preventDefault","catch","setupButtonsListeners"],"sourceRoot":""}