{"version":3,"file":"index.js","mappings":"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","sources":["webpack://htmlGdprGuard/webpack/universalModuleDefinition","webpack://htmlGdprGuard/./node_modules/gdpr-guard/dist/gdpr_guard.js","webpack://htmlGdprGuard/./src/domainLogic/dataExtractors.ts","webpack://htmlGdprGuard/./src/domainLogic/guardsParsing.ts","webpack://htmlGdprGuard/./src/domainLogic/listeners.ts","webpack://htmlGdprGuard/./src/errors/HtmlGdprGuardError.ts","webpack://htmlGdprGuard/./src/errors/NoCheckboxError.ts","webpack://htmlGdprGuard/./src/errors/NoManagerDefinitionError.ts","webpack://htmlGdprGuard/./src/errors/NoNameError.ts","webpack://htmlGdprGuard/./src/utils/dom.ts","webpack://htmlGdprGuard/./src/utils/eventBus.ts","webpack://htmlGdprGuard/./src/utils/misc.ts","webpack://htmlGdprGuard/webpack/bootstrap","webpack://htmlGdprGuard/webpack/runtime/compat get default export","webpack://htmlGdprGuard/webpack/runtime/define property getters","webpack://htmlGdprGuard/webpack/runtime/hasOwnProperty shorthand","webpack://htmlGdprGuard/webpack/runtime/make namespace object","webpack://htmlGdprGuard/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"htmlGdprGuard\"] = factory();\n\telse\n\t\troot[\"htmlGdprGuard\"] = factory();\n})(self, function() {\nreturn ","!function(t,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(\"gdprGuard\",[],r):\"object\"==typeof exports?exports.gdprGuard=r():t.gdprGuard=r()}(self,(function(){return(()=>{\"use strict\";var t={315:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.makeGuard=void 0;var n=e(670);r.makeGuard=function(t,r,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=null),{name:t,description:r,storage:e,required:o,enabled:null===i?o:i,enable:function(){return this.enabled||this.toggle(),this},disable:function(){return this.enabled&&this.toggle(),this},toggle:function(){return this.required||(this.enabled=!this.enabled),this},makeRequired:function(){return this.required=!0,this.enabled=!0,this},isEnabled:function(t){return this.name===t&&this.enabled},enableForStorage:function(t){return this.enabled||this.toggleForStorage(t),this},disableForStorage:function(t){return this.enabled&&this.toggleForStorage(t),this},toggleForStorage:function(t){return this.storage!=t||this.required||this.toggle(),this},raw:function(){return JSON.parse(JSON.stringify(this))}}}},822:function(t,r,e){var n=this&&this.__values||function(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGuardGroup=void 0;var u=e(670),a=function(){function t(t,r,e,n){void 0===r&&(r=\"\"),void 0===e&&(e=!1),void 0===n&&(n=!1),this.name=t,this.description=r,this.enabled=e,this.required=n,this.storage=u.GdprStorage.None,this.bindings=new Map,this.required&&(this.enabled=!0)}return t.for=function(r,e,n,o){return void 0===e&&(e=\"\"),void 0===n&&(n=!1),void 0===o&&(o=!1),new t(r,e,n,o)},t.prototype.addGuard=function(t){return this.bindings.set(t.name,t),this},t.prototype.hasGuard=function(t){return this.name===t||this.bindings.has(t)},t.prototype.getGuard=function(t){return this.name===t?this:this.bindings.get(t)||null},t.prototype.isEnabled=function(t){var r,e;if(this.hasGuard(t)&&null!==(a=this.getGuard(t)))return a.enabled;try{for(var i=n(this.bindings),u=i.next();!u.done;u=i.next()){var a,s=o(u.value,2);if(s[0],(a=s[1]).isEnabled(t))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.enable=function(){return this.required?this:(this.enabled=!0,this.doForEachGuard((function(t){return t.enable()})))},t.prototype.disable=function(){return this.required?this:(this.enabled=!1,this.doForEachGuard((function(t){return t.disable()})))},t.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},t.prototype.makeRequired=function(){return this.required=!0,this.enabled=!0,this.doForEachGuard((function(t){return t.makeRequired()}))},t.prototype.enableForStorage=function(t){return this.doForEachGuard((function(r){r.storage&t&&r.enable()}))},t.prototype.disableForStorage=function(t){return this.doForEachGuard((function(r){r.storage&t&&r.disable()}))},t.prototype.toggleForStorage=function(t){return this.doForEachGuard((function(r){if(r.storage&t)return r.toggle()}))},t.prototype.raw=function(){var t={name:this.name,description:this.description,enabled:this.enabled,required:this.required,storage:this.storage,guards:[]};return t.guards=i([],o(this.bindings),!1).map((function(t){var r=o(t,2);return r[0],r[1].raw()})),t},t.prototype.doForEachGuard=function(t){return this.bindings.forEach((function(r){return t(r)})),this},t.prototype.getGuards=function(){return i([],o(this.bindings.values()),!1)},t}();r.GdprGuardGroup=a},777:function(t,r,e){var n=this&&this.__values||function(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManager=void 0;var u=e(822),a=e(670),s=e(554),d=e(779),c=function(){function t(){this.bannerWasShown=!1,this.enabled=!0,this.events=new s.GdprManagerEventHub,this.groups=new Map,this.name=\"manager\",this.description=\"Manager of GDPR guard groups\",this.storage=a.GdprStorage.None,this.required=!1}return t.create=function(r){void 0===r&&(r=[]);var e=new t;return r.forEach((function(t){return e.addGroup(t)})),e},t.prototype.closeBanner=function(){var t=this;this.bannerWasShown=!0,(0,d.visitGdpr)(this,{onEach:function(r){r.enabled?t.events.enable(r.name):t.events.disable(r.name)}})},t.prototype.resetAndShowBanner=function(){this.bannerWasShown=!1},t.prototype.createGroup=function(t,r){return void 0===r&&(r=\"\"),this.addGroup(u.GdprGuardGroup.for(t,r))},t.prototype.addGroup=function(t){return this.groups.set(t.name,t),this},t.prototype.hasGuard=function(t){return this.reduceGroupsPred((function(r){return r.hasGuard(t)}))},t.prototype.getGuard=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=(a[0],a[1]);if(s.hasGuard(t))return s.getGuard(t)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return null},t.prototype.hasGroup=function(t){return this.reduceGroupsPred((function(r){return r.name===t}))},t.prototype.getGroup=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=a[0],d=a[1];if(s===t)return d}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return null},t.prototype.isEnabled=function(t){return this.reduceGroupsPred((function(r){return r.isEnabled(t)}))},t.prototype.enable=function(){return this.enabled=!0,this.forEachGroup((function(t){return t.enable()}))},t.prototype.disable=function(){return this.enabled=!1,this.forEachGroup((function(t){return t.disable()}))},t.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},t.prototype.makeRequired=function(){return this},t.prototype.enableForStorage=function(t){return this.forEachGroup((function(r){return r.enableForStorage(t)}))},t.prototype.disableForStorage=function(t){return this.forEachGroup((function(r){return r.disableForStorage(t)}))},t.prototype.toggleForStorage=function(t){return this.forEachGroup((function(r){return r.toggleForStorage(t)}))},t.prototype.raw=function(){var t={bannerWasShown:this.bannerWasShown,enabled:this.enabled,groups:[]};return t.groups=i([],o(this.groups.values()),!1).map((function(t){return t.raw()})),t},t.prototype.reduceGroupsPred=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2);if(a[0],t(a[1]))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.forEachGroup=function(t){return this.groups.forEach((function(r){return t(r)})),this},t.prototype.getGroups=function(){return i([],o(this.groups.values()),!1)},t}();r.GdprManager=c},554:(t,r)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManagerEventHub=void 0;var e=function(){function t(){this.eventMap={}}return t.prototype.onEnable=function(t,r){return this.addListener(\"enable\",t,r),this},t.prototype.onDisable=function(t,r){return this.addListener(\"disable\",t,r),this},t.prototype.enable=function(t){return this.executeListeners(\"enable\",t),this},t.prototype.disable=function(t){return this.executeListeners(\"disable\",t),this},t.prototype.tagFor=function(t,r){return\"\".concat(t,\"--\").concat(r)},t.prototype.addListener=function(t,r,e){var n=this.tagFor(t,r);n in this.eventMap||(this.eventMap[n]=[]),this.eventMap[n].push(e)},t.prototype.executeListeners=function(t,r){var e,n=this.tagFor(t,r);null===(e=this.eventMap[n])||void 0===e||e.forEach((function(t){return t()}))},t}();r.GdprManagerEventHub=e},670:(t,r)=>{var e;Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprStorage=void 0,function(t){t[t.None=1]=\"None\",t[t.Cookie=2]=\"Cookie\",t[t.LocalStorage=4]=\"LocalStorage\",t[t.SessionStorage=8]=\"SessionStorage\",t[t.IndexedDb=16]=\"IndexedDb\",t[t.FileSystem=16]=\"FileSystem\",t[t.ServerStorage=16]=\"ServerStorage\",t[t.All=30]=\"All\"}(e||(e={})),r.GdprStorage=e},860:function(t,r,e){var n,o=this&&this.__extends||(n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},n(t,r)},function(t,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),i=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},u=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGroupBuilder=void 0;var a=e(670),s=e(237),d=e(822),c=e(890),p=function(t){function r(r,e,n,o,i,u){var a=t.call(this)||this;return a.parent=r,a.name=e,a.description=n,a.enable=i,a.require=u,a.guards=[],a.storage=o,u&&(a.enable=!0),a}return o(r,t),r.create=function(t,e,n,o,i,u){return void 0===n&&(n=\"\"),void 0===o&&(o=null),void 0===i&&(i=!0),void 0===u&&(u=!1),new r(t,e,n,o||a.GdprStorage.Cookie,i,u)},r.prototype.startGroup=function(r,e,n){return void 0===r&&(r=null),void 0===e&&(e=\"\"),void 0===n&&(n=\"\"),t.prototype.startGroup.call(this,r||this.parent.storage,e,n)},r.prototype.startRequiredGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e).required()},r.prototype.endGroup=function(){var t=this.require||this.enable,r=d.GdprGuardGroup.for(this.name,this.description,t,this.require);return u(u([],i(this.guards),!1),i(this.groups),!1).forEach((function(t){return r.addGuard(t)})),this.require&&r.makeRequired(),this.parent.groups.push(r),this.parent},r.prototype.withName=function(t){return this.edit((function(r){return r.name=t}))},r.prototype.withDescription=function(t){return this.edit((function(r){return r.description=t}))},r.prototype.storedIn=function(t){return this.edit((function(r){return r.storage=t}))},r.prototype.enabled=function(){return this.edit((function(t){return t.enable=!0}))},r.prototype.disabled=function(){return this.edit((function(t){return t.enable=!1}))},r.prototype.required=function(){return this.edit((function(t){return t.require=!0}))},r.prototype.startGuard=function(t){return void 0===t&&(t=null),c.GdprGuardBuilder.create(this,t||this.storage,this.enable)},r.prototype.startRequiredGuard=function(t){return this.startGuard(t).required()},r.prototype.withEnabledGuard=function(t,r,e){return void 0===r&&(r=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(t).withDescription(r).enabled().endGuard()},r.prototype.withDisabledGuard=function(t,r,e){return void 0===r&&(r=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(t).withDescription(r).disabled().endGuard()},r.prototype.edit=function(t){return t(this),this},r}(s.GdprManagerBuilder);r.GdprGroupBuilder=p},890:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGuardBuilder=void 0;var n=e(670),o=e(315),i=function(){function t(t,r,e,n){this.parent=t,this.storage=r,this.enable=e,this.require=n,this.name=\"\",this.description=\"\",n&&(this.enable=!0)}return t.create=function(r,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=!1),new t(r,e,o,i)},t.prototype.endGuard=function(){var t=this.require||this.enable,r=(0,o.makeGuard)(this.name,this.description,this.storage,this.require,t);return this.require&&r.makeRequired(),this.parent.guards.push(r),this.parent},t.prototype.withName=function(t){return this.edit((function(r){return r.name=t}))},t.prototype.withDescription=function(t){return this.edit((function(r){return r.description=t}))},t.prototype.enabled=function(){return this.edit((function(t){return t.enable=!0}))},t.prototype.disabled=function(){return this.edit((function(t){return t.enable=!1}))},t.prototype.storedIn=function(t){return this.edit((function(r){return r.storage=t}))},t.prototype.required=function(){return this.edit((function(t){return t.require=!0}))},t.prototype.edit=function(t){return t(this),this},t}();r.GdprGuardBuilder=i},237:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManagerBuilder=void 0;var n=e(670),o=e(777),i=e(171),u=function(){function t(){this.storage=n.GdprStorage.Cookie,this.groups=[],this.bannerWasShown=!1}return t.make=function(){return new t},t.prototype.withBannerShown=function(t){void 0===t&&(t=!0),this.bannerWasShown=t},t.prototype.startGroup=function(t,r,e,n){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),void 0===n&&(n=!0),i.GdprGroupBuilder.create(this,r,e,t,n,!1)},t.prototype.startRequiredGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startEnabledGroup(t,r,e).required()},t.prototype.startEnabledGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e,!0).enabled()},t.prototype.startDisabledGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e,!1).disabled()},t.prototype.build=function(){var t=o.GdprManager.create(this.groups);return t.bannerWasShown=this.bannerWasShown,t},t.prototype.endGroup=function(){return this},t}();r.GdprManagerBuilder=u},171:function(t,r,e){var n=this&&this.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!(\"get\"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,o)}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),o=this&&this.__exportStar||function(t,r){for(var e in t)\"default\"===e||Object.prototype.hasOwnProperty.call(r,e)||n(r,t,e)};Object.defineProperty(r,\"__esModule\",{value:!0}),o(e(890),r),o(e(237),r),o(e(860),r)},93:function(t,r,e){var n=this&&this.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!(\"get\"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,o)}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),o=this&&this.__exportStar||function(t,r){for(var e in t)\"default\"===e||Object.prototype.hasOwnProperty.call(r,e)||n(r,t,e)};Object.defineProperty(r,\"__esModule\",{value:!0}),o(e(315),r),o(e(822),r),o(e(777),r),o(e(670),r),o(e(779),r),o(e(171),r),o(e(562),r),o(e(344),r)},562:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprDeserializer=void 0;var n=e(777),o=e(670),i=e(822),u=e(315),a=function(){function t(){}return t.manager=function(t){var r=this;if(![\"enabled\",\"groups\"].every((function(r){return r in t}))||\"boolean\"!=typeof t.enabled||!Array.isArray(t.groups))return null;var e=t.groups.map((function(t){return r.group(t)})).filter((function(t){return null!==t})),o=n.GdprManager.create([]);return o.enabled=!!t.enabled,o.bannerWasShown=!!t.bannerWasShown,e.length?(e.forEach((function(t){return o.addGroup(t)})),o):null},t.group=function(t){var r=this,e=this.guard(t);if(null===e)return null;var n=[\"guards\"];if(!n.every((function(r){return r in t}))||!Array.isArray(t.guards))return null;var o=i.GdprGuardGroup.for(e.name,e.description,e.enabled,e.required),u=t.guards.map((function(t){return n.every((function(r){return r in t}))?r.group(t):r.guard(t)})).filter((function(t){return null!==t}));return u.length?(u.forEach((function(t){return o.addGuard(t)})),o):null},t.guard=function(t){return[\"name\",\"enabled\",\"required\",\"description\",\"storage\"].every((function(r){return r in t}))&&\"string\"==typeof t.name&&\"boolean\"==typeof t.enabled&&\"boolean\"==typeof t.required&&\"string\"==typeof t.description&&\"number\"==typeof t.storage&&t.storage in o.GdprStorage?(0,u.makeGuard)(t.name,t.description,t.storage,!!t.required,!!t.enabled):null},t}();r.GdprDeserializer=a},344:function(t,r){var e=this&&this.__awaiter||function(t,r,e,n){return new(e||(e=Promise))((function(o,i){function u(t){try{s(n.next(t))}catch(t){i(t)}}function a(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(u,a)}s((n=n.apply(t,r||[])).next())}))},n=this&&this.__generator||function(t,r){var e,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(e=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(t,u)}catch(t){i=[6,t],n=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprSaviorAdapter=void 0;var o=function(){function t(){}return t.prototype.exists=function(t){return void 0===t&&(t=!0),e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.restore(t)];case 1:return[2,null!==r.sent()]}}))}))},t.prototype.storeIfNotExists=function(t){return e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.exists()];case 1:return[2,!!r.sent()||this.store(t)]}}))}))},t.prototype.restoreOrCreate=function(t){return e(this,void 0,void 0,(function(){var r,e;return n(this,(function(n){switch(n.label){case 0:return[4,this.restore()];case 1:return(r=n.sent())?[3,3]:[4,t()];case 2:return e=n.sent(),this.updateSharedManager(e),e.bannerWasShown&&e.closeBanner(),[2,e];case 3:return r.bannerWasShown&&r.closeBanner(),[2,r]}}))}))},t.prototype.check=function(){return e(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve()];case 1:return r.sent(),setTimeout((function(){t.exists(!0)}),100),[2]}}))}))},t}();r.GdprSaviorAdapter=o},779:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.visitGdpr=void 0;var n=e(777),o=e(822);r.visitGdpr=function(t,e){var i=void 0===e?{}:e,u=i.onManager,a=void 0===u?function(){}:u,s=i.onGroup,d=void 0===s?function(){}:s,c=i.onGuard,p=void 0===c?function(){}:c,l=i.onEach,f=void 0===l?function(){}:l,h={onManager:a,onGroup:d,onGuard:p,onEach:f};t instanceof n.GdprManager?(a(t),f(t),t.getGroups().forEach((function(t){return(0,r.visitGdpr)(t,h)}))):t instanceof o.GdprGuardGroup?(d(t),f(t),t.getGuards().forEach((function(t){return(0,r.visitGdpr)(t,h)}))):(p(t),f(t))}}},r={};return function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}(93)})()}));","import { childSelector } from \"@/utils/dom\";\nimport { NoNameError } from \"@/errors/NoNameError\";\nimport { NoCheckboxError } from \"@/errors/NoCheckboxError\";\nimport { GdprStorage } from \"gdpr-guard\";\nimport { isMeaningfulStr, toCamelCase } from \"@/utils/misc\";\nimport { NoManagerDefinitionError } from \"@/errors/NoManagerDefinitionError\";\n\n/**\n * Get the guard's name from the DOM\n * @param guardEl - The guard element to query\n * @param guardDataKey - The key in the dataset of {@link guardEl} where the name could be\n * @param nameDataKey - The name of the data attribute that can be found in child nodes to parse the name\n * @throws {NoNameError} - If it can't find the guard's name\n */\nexport const nameFromDOM = (guardEl: HTMLElement, guardDataKey: string, nameDataKey: string = \"gdpr-guard-name\"): string => {\n\tconst str = guardEl.dataset[toCamelCase(guardDataKey)];\n\n\tif (isMeaningfulStr(str)) {\n\t\treturn str.trim();\n\t}\n\n\t// const nameHolder: HTMLElement|null = guardEl.querySelector(`[data-${nameDataKey}]`);\n\tconst nameHolder: HTMLElement|null = childSelector(guardEl, `[data-${nameDataKey}]`);\n\n\tconst name = nameHolder?.dataset[nameDataKey];\n\tif (!isMeaningfulStr(name)) {\n\t\tconst textName = nameHolder?.textContent;\n\n\t\tif (isMeaningfulStr(textName)) {\n\t\t\treturn textName.trim();\n\t\t}\n\n\t\tthrow new NoNameError();\n\t}\n\n\treturn name.trim();\n};\n\nexport const checkboxFromDOM = (guardEl: HTMLElement, guardName: string) => {\n\tconst strategies = [\n\t\t() => document.getElementById(guardName), // by ID\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][name=\"${guardName}\"]`), // by name\n\t\t() => guardEl.querySelector(`[data-gdpr-checkbox]`), // by specific attribute\n\t];\n\n\tfor (const strategy of strategies) {\n\t\tconst checkbox = strategy();\n\n\t\tif (checkbox?.matches?.(\"input[type='checkbox']\")) {\n\t\t\treturn checkbox as HTMLInputElement;\n\t\t}\n\t}\n\n\tthrow new NoCheckboxError();\n};\n\nexport const descriptionFromDOM = (guardEl: HTMLElement) => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-description\")) {\n\t\treturn guardEl.dataset.gdprGuardDescription;\n\t}\n\n\tconst descriptionEl = guardEl.querySelector(\"[data-gdpr-guard-description]\");\n\n\treturn descriptionEl?.textContent ?? null;\n};\n\nexport const storageFromDOM = (guardEl: HTMLElement): GdprStorage|null => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-storage\")) {\n\t\tconst rawStorage = guardEl.dataset.gdprGuardStorage;\n\n\t\tif (rawStorage && rawStorage in GdprStorage) {\n\t\t\treturn GdprStorage[rawStorage];\n\t\t}\n\t}\n\n\treturn null;\n};\n\nexport const guardIsRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement) => {\n\tif (checkbox.required) {\n\t\tguardEl.setAttribute(\"gdpr-guard-required\", \"\");\n\t\tcheckbox.setAttribute(\"checked\", \"checked\");\n\t\treturn true;\n\t}\n\n\tif (guardEl.hasAttribute(\"gdpr-guard-required\")) {\n\t\tcheckbox.setAttribute(\"required\", \"required\");\n\t\tcheckbox.setAttribute(\"checked\", \"checked\");\n\t\treturn true;\n\t}\n\n\treturn false;\n};\nexport const parseManagerDetails = (gdprEl: HTMLElement) => {\n\tlet managerEl = gdprEl;\n\tconst { gdpr } = gdprEl.dataset;\n\tlet managerName: string = \"\";\n\n\tif (isMeaningfulStr(gdpr)) {\n\t\tmanagerName = gdpr;\n\t} else {\n\t\tconst el = gdprEl.querySelector<HTMLElement>(\"[data-gdpr-manager]\");\n\n\t\tif (!el) {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\n\t\tmanagerEl = el as HTMLElement;\n\t\tmanagerName = nameFromDOM(managerEl, \"gdpr-manager\");\n\t}\n\n\tconst managerCheckbox = checkboxFromDOM(managerEl, managerName);\n\n\treturn {\n\t\tmanagerEl,\n\t\tmanagerCheckbox,\n\t\tmanagerName,\n\t};\n};\n","import { GdprGroupBuilder, GdprManagerBuilder } from \"gdpr-guard\";\nimport {\n\tcheckboxFromDOM,\n\tdescriptionFromDOM,\n\tguardIsRequiredInDOM,\n\tnameFromDOM,\n\tstorageFromDOM\n} from \"@/domainLogic/dataExtractors\";\nimport { childSelectorAll, forEachChild } from \"@/utils/dom\";\n\nexport interface GuardParseResult {\n\tname: string;\n\tcheckbox: HTMLInputElement;\n}\n\n/**\n * Parse a guard's data and add it to the manager\n * @param guardEl - The root element of the gaurd's data\n * @param groupBuilder - The current group builder's state\n * @param parentRequired - Whether the group is required\n */\nconst addGuard = (guardEl: HTMLElement, groupBuilder: GdprGroupBuilder, parentRequired: boolean): GuardParseResult => {\n\tconst guardBuilder = groupBuilder.startGuard();\n\n\tconst name = nameFromDOM(guardEl, \"gdpr-guard\");\n\tguardBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(guardEl, name);\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(guardEl, checkbox)\n\n\tif (isRequired) {\n\t\tguardBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tguardBuilder.enabled();\n\t} else {\n\t\tguardBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(guardEl);\n\n\tif (description) {\n\t\tguardBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(guardEl);\n\n\tif (storage !== null) {\n\t\tguardBuilder.storedIn(storage);\n\t}\n\n\tguardBuilder.endGuard();\n\n\treturn {\n\t\tname,\n\t\tcheckbox,\n\t};\n};\n\n/**\n * Get the data for a group and add it to the manager\n * @param groupEl - The root of the group's data\n * @param managerBuilder - The current manager (or group) builder's state\n * @param parentRequired - Whether the manager (or parent group) is required\n * @throws {NoNameError} - If the group's name or a guard's name cannot be parsed\n */\nconst addGroup = (groupEl: HTMLElement, managerBuilder: GdprManagerBuilder, parentRequired: boolean): GuardParseResult[] => {\n\tconst groupBuilder = managerBuilder.startGroup();\n\n\t// The name is mandatory, if it can't parse it then it'll throw\n\tconst name = nameFromDOM(groupEl, \"gdpr-group\");\n\tgroupBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(groupEl, name);\n\n\tconst parsedGuards = [{\n\t\tname,\n\t\tcheckbox,\n\t}];\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(groupEl, checkbox)\n\n\tif (isRequired) {\n\t\tgroupBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tgroupBuilder.enabled();\n\t} else {\n\t\tgroupBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(groupEl);\n\n\tif (description) {\n\t\tgroupBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(groupEl);\n\n\tif (storage !== null) {\n\t\tgroupBuilder.storedIn(storage);\n\t}\n\n\t// Recursively parse child guards from there\n\tconst guards = addChildGuards(groupEl, groupBuilder, isRequired);\n\tgroupBuilder.endGroup();\n\n\n\tparsedGuards.push(...guards);\n\treturn parsedGuards;\n};\n\n/**\n * Recursively add the child guards of a group to the manager\n * @param rootEl - The root element for that group\n * @param groupBuilder - The current group builder's state\n * @param required - Whether the group is required\n */\nconst addChildGuards = (rootEl: HTMLElement, groupBuilder: GdprGroupBuilder, required: boolean = false): GuardParseResult[] => {\n\tconst parsedGuards = [] as GuardParseResult[];\n\n\tforEachChild(rootEl, el => {\n\t\tif (el?.matches(\"[data-gdpr-group]\")) {\n\t\t\tconst guards = addGroup(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(...guards);\n\t\t} else if (el?.matches(\"[data-gdpr-guard\")) {\n\t\t\tconst guard = addGuard(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(guard);\n\t\t}\n\t});\n\n\treturn parsedGuards;\n};\n\n/**\n * Get the guards from the DOM and add them all to the manager\n * @param managerEl - The root element of the manager's definition\n * @param managerBuilder - The current manager builder's state\n */\nexport const addGuardsFromDOM = (managerEl: HTMLElement, managerBuilder: GdprManagerBuilder): GuardParseResult[] => {\n\treturn childSelectorAll(managerEl, \"[data-gdpr-group]\")\n\t\t.flatMap(el => {\n\t\t\treturn addGroup(el as HTMLElement, managerBuilder, false);\n\t\t});\n};\n","import { GdprGuard, GdprManager, GdprManagerFactory, GdprSavior } from \"gdpr-guard\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { GlobalEventBus } from \"@/utils/eventBus\";\nimport { GuardParseResult } from \"@/domainLogic/guardsParsing\";\n\n/**\n * Add listeners to the change event of the manager's and guards' checkboxes\n * @param manager - The manager to handle state changes for\n * @param managerCheckbox - The global manager toggle checkbox\n * @param parsedGuards - The guards that have been parsed from the DOM\n * @param hadManager - Whether the manager came from the savior instead of the factory\n */\nexport const setupCheckboxListeners = (manager: GdprManager, managerCheckbox: HTMLInputElement, parsedGuards: GuardParseResult[], hadManager: boolean) => {\n\tconst handleInitialSync = (checkbox: HTMLInputElement, guard: GdprGuard) => {\n\t\tif (hadManager) {\n\t\t\tif ((checkbox.checked && !guard.enabled) || (!checkbox.checked && guard.enabled)) {\n\t\t\t\tcheckbox.click();\n\t\t\t}\n\t\t}\n\t};\n\n\thandleInitialSync(managerCheckbox, manager);\n\n\tmanagerCheckbox.addEventListener(\"click\", () => {\n\t\tmanager.toggle();\n\t});\n\n\tparsedGuards.forEach(({ name, checkbox }) => {\n\t\tconst guard = manager.getGuard(name)!;\n\n\t\thandleInitialSync(checkbox, guard);\n\n\t\tcheckbox.addEventListener(\"click\", () => {\n\t\t\tguard.toggle();\n\t\t});\n\t});\n};\n\n/**\n * Setup item activation in the `<head>` tag (i.e. to execute code when the corresponding guard is enabled)\n * @param manager - The manager to attach the activation logic to\n * @param itemSelector - The selector to query all the related items (must include `[data-gdpr-on-enable]`)\n * @param setupItemHook - The function to call to set up the item before putting it in the DOM\n */\nexport const setupInHeadActivation = <ItemType extends HTMLElement = HTMLElement>(\n\tmanager: GdprManager,\n\titemSelector: string,\n\tsetupItemHook: (item: ItemType) => void\n) => {\n\tdocument.querySelectorAll<ItemType>(itemSelector)\n\t\t.forEach(item => {\n\t\t\tconst guardName = item.dataset.gdprOnEnable!;\n\n\t\t\tif (manager.hasGuard(guardName)) {\n\t\t\t\tmanager.events.onEnable(guardName, () => {\n\t\t\t\t\t/*\n\t\t\t\t\t\tScript tags have an internal attribute checking whether\n\t\t\t\t\t\tthey have already been loaded. Cloning a script will\n\t\t\t\t\t\talways clone that flag as well (which is unwanted).\n\t\t\t\t\t */\n\n\t\t\t\t\tconst isScript = item.matches(\"script\");\n\n\t\t\t\t\tconst clonedItem = (\n\t\t\t\t\t\tisScript\n\t\t\t\t\t\t\t? document.createElement(\"script\")\n\t\t\t\t\t\t\t: item.cloneNode(false)\n\t\t\t\t\t) as ItemType;\n\n\t\t\t\t\tif (isScript) {\n\t\t\t\t\t\t// Copy attributes over\n\t\t\t\t\t\titem.getAttributeNames().forEach(attrName => {\n\t\t\t\t\t\t\tconst attrValue = item.getAttribute(attrName)!;\n\t\t\t\t\t\t\tclonedItem.setAttribute(attrName, attrValue);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tsetupItemHook(clonedItem);\n\t\t\t\t\tclonedItem.removeAttribute(\"data-gdpr-on-enable\");\n\t\t\t\t\titem.remove();\n\t\t\t\t\tdocument.head.appendChild(clonedItem);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t});\n};\n\n\n/**\n * Setup scripts activation logic to load them when the corresponding guard is enabled (type must initially be text and the src attribute mst be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupScriptActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLScriptElement>(\n\t\tmanager,\n\t\t\"script[type='text'][src][data-gdpr-on-enable]\",\n\t\tactualScript => {\n\t\t\tactualScript.setAttribute(\"type\", \"text/javascript\");\n\t\t}\n\t);\n};\n\n/**\n * Setup stylesheets activation logic to load them when the corresponding guard is enabled (rel attribute must be different from stylesheet and the href attribute must be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupStyleSheetsActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLLinkElement>(\n\t\tmanager,\n\t\t\"link[href][data-gdpr-on-enable]\",\n\t\tactualStyleSheet => {\n\t\t\tactualStyleSheet.setAttribute(\"rel\", \"stylesheet\");\n\t\t}\n\t);\n};\n\nexport type BindEventsCallback = (eventsHub: GdprManagerEventHub) => void;\n\nexport type StoreErrorHandler = (didStore: boolean, error?: Error) => void;\n\nexport interface SetupButtonListenersHooks {\n\tonDeclineAllErrorHook: StoreErrorHandler;\n\tonAllowAllErrorHook: StoreErrorHandler;\n\tonCancelErrorHook: StoreErrorHandler;\n\tonSaveErrorHook: StoreErrorHandler;\n}\n\n/**\n * Bind event listeners to the general buttons\n * @param manager\n * @param gdprSavior\n * @param hooks\n * @param restoreFactory\n */\nexport const setupButtonsListeners = (\n\tmanager: GdprManager,\n\tgdprSavior: GdprSavior,\n\thooks: SetupButtonListenersHooks,\n\trestoreFactory: GdprManagerFactory\n) => {\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-open]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.resetAndShowBanner();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-decline-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.disable();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\thooks.onDeclineAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\tmanager.closeBanner();\n\t\t\t\t}\n\t\t\t}).catch(e => hooks.onDeclineAllErrorHook(false, e));\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-allow-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.enable();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\thooks.onAllowAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\tmanager.closeBanner();\n\t\t\t\t}\n\t\t\t}).catch(e => hooks.onAllowAllErrorHook(false, e));\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-cancel]\", e => {\n\t\te.preventDefault();\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst hadManager = await gdprSavior.exists(false);\n\n\t\t\t\tif (hadManager) {\n\t\t\t\t\tawait gdprSavior.restore(true);\n\t\t\t\t} else {\n\t\t\t\t\tconst newManager = await gdprSavior.restoreOrCreate(restoreFactory);\n\t\t\t\t\t//TODO: Use save/restore new API (when it's out, for now the savior API has to suffice)\n\t\t\t\t}\n\n\t\t\t\tmanager.closeBanner();\n\t\t\t} catch(e) {\n\t\t\t\thooks.onCancelErrorHook(true, e as Error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-save]\", e => {\n\t\te.preventDefault();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\thooks.onSaveErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\tmanager.closeBanner();\n\t\t\t\t}\n\t\t\t}).catch(e => hooks.onSaveErrorHook(e));\n\t});\n};\n","export class HtmlGdprGuardError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\nexport class NoCheckboxError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No checkbox found for that guard\";\n\n\tconstructor(message: string = NoCheckboxError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\n/**\n * Error thrown when the library does not find\n * a root {@link HTMLElement} to get the manager's\n * data from\n */\nexport class NoManagerDefinitionError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No definition found for the GDPR manager\";\n\n\tconstructor(message = NoManagerDefinitionError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\nexport class NoNameError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"Guard definition is missing the guard's name\";\n\n\tconstructor(message: string = NoNameError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","export const forEachChild = (rootEl: HTMLElement, action: (el: HTMLElement) => void) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el) {\n\t\t\taction(el as HTMLElement);\n\t\t}\n\t}\n}\n\nexport const findChild = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\treturn el as HTMLElement;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nexport const findAllChildren = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tconst ret = [] as HTMLElement[];\n\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\tret.push(el as HTMLElement);\n\t\t}\n\t}\n\n\treturn ret;\n};\n\nexport const childSelector = (rootEl: HTMLElement, selector: string) => {\n\treturn findChild(rootEl, el => el.matches(selector));\n}\n\nexport const childSelectorAll = (rootEl: HTMLElement, selector: string) => {\n\treturn findAllChildren(rootEl, el => el.matches(selector));\n};\n","type Listener = (e: Event) => void;\ntype EventName = string;\ntype Selector = string;\n\nexport const GlobalEventBus = {\n\t/**\n\t * Store the event managers and their listeners\n\t */\n\tevents: {} as Record<EventName, Record<Selector, Listener[]>>,\n\n\t/**\n\t * Add an event listener on the given selector as a live listener (i.e. is not limited to the current matching set of {@link HTMLElement})\n\t * @param event - The name of the event\n\t * @param selector - The selector to match against\n\t * @param listener - The listener to call when the event is triggered on an element that matches the given selector\n\t */\n\ton(event: EventName, selector: Selector, listener: Listener) {\n\t\tif (!(event in this.events)) { // This event had no selectors or listeners attached yet\n\t\t\tthis.events[event] = {\n\t\t\t\t[selector]: [listener],\n\t\t\t};\n\n\t\t\twindow.addEventListener(event, e => {\n\t\t\t\tObject.entries(this.events[event])\n\t\t\t\t\t.forEach(([selector, listeners]: [Selector, Listener[]]) => {\n\t\t\t\t\t\tconst target = e.target as HTMLElement|null;\n\n\t\t\t\t\t\tif (target?.matches?.(selector)) {\n\t\t\t\t\t\t\tlisteners.forEach(listener => listener(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tconst eventManager = this.events[event];\n\n\t\t\tif (!(selector in eventManager)) { // This event didn't have the selector registered yet\n\t\t\t\teventManager[selector] = [];\n\t\t\t}\n\n\t\t\teventManager[selector].push(listener);\n\t\t}\n\n\t}\n};\n","export const isMeaningfulStr = (str?: string|null): str is string => {\n\treturn !!str && !/^\\s*$/.test(str);\n};\n\nexport const toCamelCase = (str: string): string => {\n\treturn str.replace(/-(\\w)/g, (_, letter: string) => letter.toUpperCase());\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { NoManagerDefinitionError } from \"@/errors/NoManagerDefinitionError\";\nimport { GdprManager, GdprManagerBuilder, GdprSavior } from \"gdpr-guard\";\nimport { parseManagerDetails } from \"@/domainLogic/dataExtractors\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { addGuardsFromDOM } from \"@/domainLogic/guardsParsing\";\nimport {\n\tBindEventsCallback,\n\tsetupButtonsListeners,\n\tsetupCheckboxListeners,\n\tsetupScriptActivation,\n\tsetupStyleSheetsActivation,\n\tStoreErrorHandler,\n} from \"@/domainLogic/listeners\";\n\n\nexport interface GdprHtmlManagerOptions {\n\t/**\n\t * The element that serves as the root of the GDPR manager's definition in the DOM\n\t * @default document.querySelector(\"[data-gdpr]\")\n\t */\n\tgdprEl?: HTMLElement;\n\n\t/**\n\t * Whether to auto close the banner (only if it has already been displayed to the user)\n\t * @default true\n\t */\n\tautoCloseBanner?: boolean;\n\n\t// HOOKS\n\n\t/**\n\t * A callback to attach event listeners to the {@link GdprManagerEventHub} before finalizing the setup\n\t * @default () => {}\n\t */\n\tbindEventHandlersHook?: BindEventsCallback;\n\n\t/**\n\t * Add guards before the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsBeforeHook?: (managerBuilder: GdprManagerBuilder) => void;\n\n\t/**\n\t * Add guards after the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsAfterHook?: (managerBuilder: GdprManagerBuilder) => void;\n\n\tonDeclineAllErrorHook?: StoreErrorHandler;\n\tonAllowAllErrorHook?: StoreErrorHandler;\n\tonSaveErrorHook?: StoreErrorHandler;\n\tonCancelErrorHook?: StoreErrorHandler;\n}\n\n// TODO: Check from tha manager's state on init\n// TODO: Doc blocks\n// TODO: Two-way binding? Would required a wrapper\n// TODO: Reset API in gdpr-guard?\n\n/**\n * Initialize the gdpr-guard logic from the DOM or the provided {@link GdprSavior}\n * @param gdprSavior - The savior to use to restore and save the {@link GdprManager} data\n * @param {GdprHtmlManagerOptions} [options] - The setup's options\n * @returns {Promise<GdprManager>} The restored GDPR manager\n * @throws {NoManagerDefinitionError} - If no manager definition can be found\n * (either {@link gdprEl} is `undefined` or `document.querySelector(\"[data-gdpr]\")` returned `null`)\n */\nexport const restoreHtmlGdprManager = async (gdprSavior: GdprSavior, {\n\tgdprEl = undefined,\n\tautoCloseBanner = true,\n\n\tbindEventHandlersHook = () => {},\n\taddGuardsBeforeHook = () => {},\n\taddGuardsAfterHook = () => {},\n\n\tonDeclineAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onDeclineAllErrorHook]\", didStore, err),\n\tonAllowAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onAllowAllErrorHook]\", didStore, err),\n\tonSaveErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onSaveErrorHook]\", didStore, err),\n\tonCancelErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onCancelErrorHook]\", didStore, err),\n}: GdprHtmlManagerOptions = {}): Promise<GdprManager> => {\n\tif (typeof gdprEl === \"undefined\") {\n\t\tgdprEl = document.querySelector<HTMLElement>(\"[data-gdpr]\") ?? undefined;\n\n\t\tif (typeof gdprEl === \"undefined\") {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\t}\n\n\tconst { managerEl, managerCheckbox } = parseManagerDetails(gdprEl);\n\n\tconst managerBuilder = GdprManagerBuilder.make();\n\n\taddGuardsBeforeHook(managerBuilder);\n\tconst parsedGuards = addGuardsFromDOM(managerEl, managerBuilder);\n\taddGuardsAfterHook(managerBuilder);\n\n\tconst managerFactory = async () => managerBuilder.build();\n\tconst hadManager = await gdprSavior.exists(false);\n\tconst manager = await gdprSavior.restoreOrCreate(managerFactory);\n\n\tsetupCheckboxListeners(manager, managerCheckbox, parsedGuards, hadManager);\n\tsetupButtonsListeners(manager, gdprSavior, {\n\t\tonDeclineAllErrorHook,\n\t\tonAllowAllErrorHook,\n\t\tonSaveErrorHook,\n\t\tonCancelErrorHook,\n\t}, managerFactory);\n\tsetupScriptActivation(manager);\n\tsetupStyleSheetsActivation(manager);\n\n\tbindEventHandlersHook(manager.events);\n\n\tif (autoCloseBanner && manager.bannerWasShown) {\n\t\tmanager.closeBanner();\n\t}\n\n\treturn manager;\n};\n"],"names":[],"sourceRoot":""}