{"version":3,"file":"index.js","mappings":"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","sources":["webpack://htmlGdprGuard/webpack/universalModuleDefinition","webpack://htmlGdprGuard/./node_modules/gdpr-guard/dist/gdpr_guard.js","webpack://htmlGdprGuard/webpack/bootstrap","webpack://htmlGdprGuard/webpack/runtime/define property getters","webpack://htmlGdprGuard/webpack/runtime/hasOwnProperty shorthand","webpack://htmlGdprGuard/webpack/runtime/make namespace object","webpack://htmlGdprGuard/./src/errors/HtmlGdprGuardError.ts","webpack://htmlGdprGuard/./src/errors/NoManagerDefinitionError.ts","webpack://htmlGdprGuard/./src/errors/NoNameError.ts","webpack://htmlGdprGuard/./src/errors/NoCheckboxError.ts","webpack://htmlGdprGuard/./src/utils/misc.ts","webpack://htmlGdprGuard/./src/domainLogic/dataExtractors.ts","webpack://htmlGdprGuard/./src/utils/dom.ts","webpack://htmlGdprGuard/./src/domainLogic/guardsParsing.ts","webpack://htmlGdprGuard/./src/utils/eventBus.ts","webpack://htmlGdprGuard/./src/domainLogic/listeners.ts","webpack://htmlGdprGuard/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"htmlGdprGuard\"] = factory();\n\telse\n\t\troot[\"htmlGdprGuard\"] = factory();\n})(typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : this, () => {\nreturn ","!function(t,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(\"gdprGuard\",[],r):\"object\"==typeof exports?exports.gdprGuard=r():t.gdprGuard=r()}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:this,(()=>(()=>{\"use strict\";var t={315:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.makeGuard=void 0;var n=e(670);r.makeGuard=function(t,r,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=null),{name:t,description:r,storage:e,required:o,enabled:null===i?o:i,enable:function(){return this.enabled||this.toggle(),this},disable:function(){return this.enabled&&this.toggle(),this},toggle:function(){return this.required||(this.enabled=!this.enabled),this},makeRequired:function(){return this.required=!0,this.enabled=!0,this},isEnabled:function(t){return this.name===t&&this.enabled},enableForStorage:function(t){return this.enabled||this.toggleForStorage(t),this},disableForStorage:function(t){return this.enabled&&this.toggleForStorage(t),this},toggleForStorage:function(t){return this.storage!=t||this.required||this.toggle(),this},raw:function(){return JSON.parse(JSON.stringify(this))}}}},822:function(t,r,e){var n=this&&this.__values||function(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGuardGroup=void 0;var u=e(670),a=function(){function t(t,r,e,n){void 0===r&&(r=\"\"),void 0===e&&(e=!1),void 0===n&&(n=!1),this.name=t,this.description=r,this.enabled=e,this.required=n,this.storage=u.GdprStorage.None,this.bindings=new Map,this.required&&(this.enabled=!0)}return t.for=function(r,e,n,o){return void 0===e&&(e=\"\"),void 0===n&&(n=!1),void 0===o&&(o=!1),new t(r,e,n,o)},t.prototype.addGuard=function(t){return this.bindings.set(t.name,t),this},t.prototype.hasGuard=function(t){return this.name===t||this.bindings.has(t)},t.prototype.getGuard=function(t){return this.name===t?this:this.bindings.get(t)||null},t.prototype.isEnabled=function(t){var r,e;if(this.hasGuard(t)&&null!==(a=this.getGuard(t)))return a.enabled;try{for(var i=n(this.bindings),u=i.next();!u.done;u=i.next()){var a,s=o(u.value,2);if(s[0],(a=s[1]).isEnabled(t))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.enable=function(){return this.required?this:(this.enabled=!0,this.doForEachGuard((function(t){return t.enable()})))},t.prototype.disable=function(){return this.required?this:(this.enabled=!1,this.doForEachGuard((function(t){return t.disable()})))},t.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},t.prototype.makeRequired=function(){return this.required=!0,this.enabled=!0,this.doForEachGuard((function(t){return t.makeRequired()}))},t.prototype.enableForStorage=function(t){return this.doForEachGuard((function(r){r.storage&t&&r.enable()}))},t.prototype.disableForStorage=function(t){return this.doForEachGuard((function(r){r.storage&t&&r.disable()}))},t.prototype.toggleForStorage=function(t){return this.doForEachGuard((function(r){if(r.storage&t)return r.toggle()}))},t.prototype.raw=function(){var t={name:this.name,description:this.description,enabled:this.enabled,required:this.required,storage:this.storage,guards:[]};return t.guards=i([],o(this.bindings),!1).map((function(t){var r=o(t,2);return r[0],r[1].raw()})),t},t.prototype.doForEachGuard=function(t){return this.bindings.forEach((function(r){return t(r)})),this},t.prototype.getGuards=function(){return i([],o(this.bindings.values()),!1)},t}();r.GdprGuardGroup=a},777:function(t,r,e){var n=this&&this.__values||function(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManager=void 0;var u=e(822),a=e(670),s=e(554),d=e(779),c=function(){function t(){this.bannerWasShown=!1,this.enabled=!0,this.events=new s.GdprManagerEventHub,this.groups=new Map,this.name=\"manager\",this.description=\"Manager of GDPR guard groups\",this.storage=a.GdprStorage.None,this.required=!1}return t.create=function(r){void 0===r&&(r=[]);var e=new t;return r.forEach((function(t){return e.addGroup(t)})),e},t.prototype.closeBanner=function(){var t=this;this.bannerWasShown=!0,(0,d.visitGdpr)(this,{onEach:function(r){r.enabled?t.events.enable(r.name):t.events.disable(r.name)}})},t.prototype.resetAndShowBanner=function(){this.bannerWasShown=!1},t.prototype.createGroup=function(t,r){return void 0===r&&(r=\"\"),this.addGroup(u.GdprGuardGroup.for(t,r))},t.prototype.addGroup=function(t){return this.groups.set(t.name,t),this},t.prototype.hasGuard=function(t){return this.reduceGroupsPred((function(r){return r.hasGuard(t)}))},t.prototype.getGuard=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=(a[0],a[1]);if(s.hasGuard(t))return s.getGuard(t)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return null},t.prototype.hasGroup=function(t){return this.reduceGroupsPred((function(r){return r.name===t}))},t.prototype.getGroup=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=a[0],d=a[1];if(s===t)return d}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return null},t.prototype.isEnabled=function(t){return this.reduceGroupsPred((function(r){return r.isEnabled(t)}))},t.prototype.enable=function(){return this.enabled=!0,this.forEachGroup((function(t){return t.enable()}))},t.prototype.disable=function(){return this.enabled=!1,this.forEachGroup((function(t){return t.disable()}))},t.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},t.prototype.makeRequired=function(){return this},t.prototype.enableForStorage=function(t){return this.forEachGroup((function(r){return r.enableForStorage(t)}))},t.prototype.disableForStorage=function(t){return this.forEachGroup((function(r){return r.disableForStorage(t)}))},t.prototype.toggleForStorage=function(t){return this.forEachGroup((function(r){return r.toggleForStorage(t)}))},t.prototype.raw=function(){var t={bannerWasShown:this.bannerWasShown,enabled:this.enabled,groups:[]};return t.groups=i([],o(this.groups.values()),!1).map((function(t){return t.raw()})),t},t.prototype.reduceGroupsPred=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2);if(a[0],t(a[1]))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.forEachGroup=function(t){return this.groups.forEach((function(r){return t(r)})),this},t.prototype.getGroups=function(){return i([],o(this.groups.values()),!1)},t}();r.GdprManager=c},554:(t,r)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManagerEventHub=void 0;var e=function(){function t(){this.eventMap={}}return t.prototype.onEnable=function(t,r){return this.addListener(\"enable\",t,r),this},t.prototype.onDisable=function(t,r){return this.addListener(\"disable\",t,r),this},t.prototype.enable=function(t){return this.executeListeners(\"enable\",t),this},t.prototype.disable=function(t){return this.executeListeners(\"disable\",t),this},t.prototype.tagFor=function(t,r){return\"\".concat(t,\"--\").concat(r)},t.prototype.addListener=function(t,r,e){var n=this.tagFor(t,r);n in this.eventMap||(this.eventMap[n]=[]),this.eventMap[n].push(e)},t.prototype.executeListeners=function(t,r){var e,n=this.tagFor(t,r);null===(e=this.eventMap[n])||void 0===e||e.forEach((function(t){return t()}))},t}();r.GdprManagerEventHub=e},670:(t,r)=>{var e;Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprStorage=void 0,function(t){t[t.None=1]=\"None\",t[t.Cookie=2]=\"Cookie\",t[t.LocalStorage=4]=\"LocalStorage\",t[t.SessionStorage=8]=\"SessionStorage\",t[t.IndexedDb=16]=\"IndexedDb\",t[t.FileSystem=16]=\"FileSystem\",t[t.ServerStorage=16]=\"ServerStorage\",t[t.All=30]=\"All\"}(e||(e={})),r.GdprStorage=e},860:function(t,r,e){var n,o=this&&this.__extends||(n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},n(t,r)},function(t,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),i=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},u=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGroupBuilder=void 0;var a=e(670),s=e(237),d=e(822),c=e(890),p=function(t){function r(r,e,n,o,i,u){var a=t.call(this)||this;return a.parent=r,a.name=e,a.description=n,a.enable=i,a.require=u,a.guards=[],a.storage=o,u&&(a.enable=!0),a}return o(r,t),r.create=function(t,e,n,o,i,u){return void 0===n&&(n=\"\"),void 0===o&&(o=null),void 0===i&&(i=!0),void 0===u&&(u=!1),new r(t,e,n,o||a.GdprStorage.Cookie,i,u)},r.prototype.startGroup=function(r,e,n){return void 0===r&&(r=null),void 0===e&&(e=\"\"),void 0===n&&(n=\"\"),t.prototype.startGroup.call(this,r||this.parent.storage,e,n)},r.prototype.startRequiredGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e).required()},r.prototype.endGroup=function(){var t=this.require||this.enable,r=d.GdprGuardGroup.for(this.name,this.description,t,this.require);return u(u([],i(this.guards),!1),i(this.groups),!1).forEach((function(t){return r.addGuard(t)})),this.require&&r.makeRequired(),this.parent.groups.push(r),this.parent},r.prototype.withName=function(t){return this.edit((function(r){return r.name=t}))},r.prototype.withDescription=function(t){return this.edit((function(r){return r.description=t}))},r.prototype.storedIn=function(t){return this.edit((function(r){return r.storage=t}))},r.prototype.enabled=function(){return this.edit((function(t){return t.enable=!0}))},r.prototype.disabled=function(){return this.edit((function(t){return t.enable=!1}))},r.prototype.required=function(){return this.edit((function(t){return t.require=!0}))},r.prototype.startGuard=function(t){return void 0===t&&(t=null),c.GdprGuardBuilder.create(this,t||this.storage,this.enable)},r.prototype.startRequiredGuard=function(t){return this.startGuard(t).required()},r.prototype.withEnabledGuard=function(t,r,e){return void 0===r&&(r=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(t).withDescription(r).enabled().endGuard()},r.prototype.withDisabledGuard=function(t,r,e){return void 0===r&&(r=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(t).withDescription(r).disabled().endGuard()},r.prototype.edit=function(t){return t(this),this},r}(s.GdprManagerBuilder);r.GdprGroupBuilder=p},890:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGuardBuilder=void 0;var n=e(670),o=e(315),i=function(){function t(t,r,e,n){this.parent=t,this.storage=r,this.enable=e,this.require=n,this.name=\"\",this.description=\"\",n&&(this.enable=!0)}return t.create=function(r,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=!1),new t(r,e,o,i)},t.prototype.endGuard=function(){var t=this.require||this.enable,r=(0,o.makeGuard)(this.name,this.description,this.storage,this.require,t);return this.require&&r.makeRequired(),this.parent.guards.push(r),this.parent},t.prototype.withName=function(t){return this.edit((function(r){return r.name=t}))},t.prototype.withDescription=function(t){return this.edit((function(r){return r.description=t}))},t.prototype.enabled=function(){return this.edit((function(t){return t.enable=!0}))},t.prototype.disabled=function(){return this.edit((function(t){return t.enable=!1}))},t.prototype.storedIn=function(t){return this.edit((function(r){return r.storage=t}))},t.prototype.required=function(){return this.edit((function(t){return t.require=!0}))},t.prototype.edit=function(t){return t(this),this},t}();r.GdprGuardBuilder=i},237:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManagerBuilder=void 0;var n=e(670),o=e(777),i=e(171),u=function(){function t(){this.storage=n.GdprStorage.Cookie,this.groups=[],this.bannerWasShown=!1}return t.make=function(){return new t},t.prototype.withBannerShown=function(t){void 0===t&&(t=!0),this.bannerWasShown=t},t.prototype.startGroup=function(t,r,e,n){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),void 0===n&&(n=!0),i.GdprGroupBuilder.create(this,r,e,t,n,!1)},t.prototype.startRequiredGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startEnabledGroup(t,r,e).required()},t.prototype.startEnabledGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e,!0).enabled()},t.prototype.startDisabledGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e,!1).disabled()},t.prototype.build=function(){var t=o.GdprManager.create(this.groups);return t.bannerWasShown=this.bannerWasShown,t},t.prototype.endGroup=function(){return this},t}();r.GdprManagerBuilder=u},171:function(t,r,e){var n=this&&this.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!(\"get\"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,o)}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),o=this&&this.__exportStar||function(t,r){for(var e in t)\"default\"===e||Object.prototype.hasOwnProperty.call(r,e)||n(r,t,e)};Object.defineProperty(r,\"__esModule\",{value:!0}),o(e(890),r),o(e(237),r),o(e(860),r)},93:function(t,r,e){var n=this&&this.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!(\"get\"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,o)}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),o=this&&this.__exportStar||function(t,r){for(var e in t)\"default\"===e||Object.prototype.hasOwnProperty.call(r,e)||n(r,t,e)};Object.defineProperty(r,\"__esModule\",{value:!0}),o(e(315),r),o(e(822),r),o(e(777),r),o(e(670),r),o(e(554),r),o(e(779),r),o(e(171),r),o(e(562),r),o(e(344),r)},562:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprDeserializer=void 0;var n=e(777),o=e(670),i=e(822),u=e(315),a=[\"enabled\",\"groups\"],s=[\"guards\"],d=[\"name\",\"enabled\",\"required\",\"description\",\"storage\"],c=function(){function t(){}return t.manager=function(t){var r=this;if(!function(t){return a.every((function(r){return r in t}))&&\"boolean\"==typeof t.enabled&&Array.isArray(t.groups)}(t))return null;var e=t.groups.map((function(t){return r.group(t)})).filter((function(t){return null!==t})),o=n.GdprManager.create([]);return o.enabled=!!t.enabled,o.bannerWasShown=!!t.bannerWasShown,e.length?(e.forEach((function(t){return o.addGroup(t)})),o):null},t.group=function(t){var r=this,e=this.guard(t);if(null===e)return null;if(!function(t){return s.every((function(r){return r in t}))&&Array.isArray(t.guards)}(e))return null;var n=i.GdprGuardGroup.for(e.name,e.description,e.enabled,e.required),o=t.guards.map((function(t){return s.every((function(r){return r in t}))?r.group(t):r.guard(t)})).filter((function(t){return null!==t}));return o.length?(o.forEach((function(t){return n.addGuard(t)})),n):null},t.guard=function(t){return function(t){return d.every((function(r){return r in t}))&&\"string\"==typeof t.name&&\"boolean\"==typeof t.enabled&&\"boolean\"==typeof t.required&&\"string\"==typeof t.description&&\"number\"==typeof t.storage&&t.storage in o.GdprStorage}(t)?(0,u.makeGuard)(t.name,t.description,t.storage,!!t.required,!!t.enabled):null},t}();r.GdprDeserializer=c},344:function(t,r){var e=this&&this.__awaiter||function(t,r,e,n){return new(e||(e=Promise))((function(o,i){function u(t){try{s(n.next(t))}catch(t){i(t)}}function a(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(u,a)}s((n=n.apply(t,r||[])).next())}))},n=this&&this.__generator||function(t,r){var e,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(e=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(t,u)}catch(t){i=[6,t],n=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprSaviorAdapter=void 0;var o=function(){function t(){}return t.prototype.exists=function(t){return void 0===t&&(t=!0),e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.restore(t)];case 1:return[2,null!==r.sent()]}}))}))},t.prototype.storeIfNotExists=function(t){return e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.exists()];case 1:return[2,!!r.sent()||this.store(t)]}}))}))},t.prototype.restoreOrCreate=function(t){return e(this,void 0,void 0,(function(){var r,e;return n(this,(function(n){switch(n.label){case 0:return[4,this.restore()];case 1:return(r=n.sent())?[3,3]:[4,t()];case 2:return e=n.sent(),this.updateSharedManager(e),e.bannerWasShown&&e.closeBanner(),[2,e];case 3:return r.bannerWasShown&&r.closeBanner(),[2,r]}}))}))},t.prototype.check=function(){return e(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve()];case 1:return r.sent(),setTimeout((function(){t.exists(!0)}),100),[2]}}))}))},t}();r.GdprSaviorAdapter=o},779:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.visitGdpr=void 0;var n=e(777),o=e(822);r.visitGdpr=function(t,e){var i=void 0===e?{}:e,u=i.onManager,a=void 0===u?function(){}:u,s=i.onGroup,d=void 0===s?function(){}:s,c=i.onGuard,p=void 0===c?function(){}:c,l=i.onEach,f=void 0===l?function(){}:l,h={onManager:a,onGroup:d,onGuard:p,onEach:f};t instanceof n.GdprManager?(a(t),f(t),t.getGroups().forEach((function(t){return(0,r.visitGdpr)(t,h)}))):t instanceof o.GdprGuardGroup?(d(t),f(t),t.getGuards().forEach((function(t){return(0,r.visitGdpr)(t,h)}))):(p(t),f(t))}}},r={};return function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}(93)})()));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export class HtmlGdprGuardError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\n/**\n * Error thrown when the library does not find\n * a root {@link HTMLElement} to get the manager's\n * data from\n */\nexport class NoManagerDefinitionError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No definition found for the GDPR manager\";\n\n\tconstructor(message = NoManagerDefinitionError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\nexport class NoNameError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"Guard definition is missing the guard's name\";\n\n\tconstructor(message: string = NoNameError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\nexport class NoCheckboxError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No checkbox found for that guard\";\n\n\tconstructor(message: string = NoCheckboxError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","export const isMeaningfulStr = (str?: string|null): str is string => {\n\treturn !!str && !/^\\s*$/.test(str);\n};\n\nexport const toCamelCase = (str: string): string => {\n\treturn str.replace(/-(\\w)/g, (_, letter: string) => letter.toUpperCase());\n};\n","import { childSelector } from \"@/utils/dom\";\nimport { NoNameError } from \"@/errors/NoNameError\";\nimport { NoCheckboxError } from \"@/errors/NoCheckboxError\";\nimport { GdprStorage } from \"gdpr-guard\";\nimport { isMeaningfulStr, toCamelCase } from \"@/utils/misc\";\nimport { NoManagerDefinitionError } from \"@/errors/NoManagerDefinitionError\";\n\n/**\n * Get the guard's name from the DOM\n * @param guardEl - The guard element to query\n * @param guardDataKey - The key in the dataset of {@link guardEl} where the name could be\n * @param nameDataKey - The name of the data attribute that can be found in child nodes to parse the name\n * @throws {NoNameError} - If it can't find the guard's name\n */\nexport const nameFromDOM = (guardEl: HTMLElement, guardDataKey: string, nameDataKey: string = \"gdpr-guard-name\"): string => {\n\tconst str = guardEl.dataset[toCamelCase(guardDataKey)];\n\n\tif (isMeaningfulStr(str)) {\n\t\treturn str.trim();\n\t}\n\n\t// const nameHolder: HTMLElement|null = guardEl.querySelector(`[data-${nameDataKey}]`);\n\tconst nameHolder: HTMLElement|null = childSelector(guardEl, `[data-${nameDataKey}]`);\n\n\tconst name = nameHolder?.dataset[nameDataKey];\n\tif (!isMeaningfulStr(name)) {\n\t\tconst textName = nameHolder?.textContent;\n\n\t\tif (isMeaningfulStr(textName)) {\n\t\t\treturn textName.trim();\n\t\t}\n\n\t\tthrow new NoNameError();\n\t}\n\n\treturn name.trim();\n};\n\n/**\n * Get the guard's checkbox from the DOM\n * @param guardEl - The root of the guard's tree\n * @param guardName - The guard's name\n */\nexport const checkboxFromDOM = (guardEl: HTMLElement, guardName: string) => {\n\tconst strategies = [\n\t\t() => document.getElementById(guardName), // by ID\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][name=\"${guardName}\"]`), // by name\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][data-gdpr-checkbox]`), // by specific attribute\n\t];\n\n\tfor (const strategy of strategies) {\n\t\tconst checkbox = strategy();\n\n\t\tif (checkbox?.matches?.(\"input[type='checkbox']\")) {\n\t\t\treturn checkbox as HTMLInputElement;\n\t\t}\n\t}\n\n\tthrow new NoCheckboxError();\n};\n\n/**\n * Retrieve the guard's description from the DOM\n * @param guardEl - The root of the guard's state tree\n */\nexport const descriptionFromDOM = (guardEl: HTMLElement) => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-description\")) {\n\t\treturn guardEl.dataset.gdprGuardDescription;\n\t}\n\n\tconst descriptionEl = guardEl.querySelector(\"[data-gdpr-guard-description]\");\n\n\treturn descriptionEl?.textContent ?? null;\n};\n\n/**\n * Get the {@link GdprStorage} from the DOM\n * @param guardEl - The root the guard's state tree\n */\nexport const storageFromDOM = (guardEl: HTMLElement): GdprStorage|null => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-storage\")) {\n\t\tconst rawStorage = guardEl.dataset.gdprGuardStorage;\n\n\t\tif (rawStorage && rawStorage in GdprStorage) {\n\t\t\treturn GdprStorage[rawStorage];\n\t\t}\n\t}\n\n\treturn null;\n};\n\n/**\n * Check whether the guard is marked as required in the DOM\n * @param guardEl - The root of the guard's state tree\n * @param checkbox - The guard's checkbox\n */\nexport const guardIsRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement) => {\n\treturn checkbox.required || guardEl.hasAttribute(\"data-gdpr-guard-required\");\n};\n\n/**\n * Sync the required status across all attributes in the DOM\n * @param guardEl - The root of the guard's state tree\n * @param checkbox - The guard's checkbox\n * @param isRequired - Whether the guard is already marked as required\n */\nexport const syncRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement, isRequired: boolean = false) => {\n\tconst makeCheckedDisabled = () => {\n\t\tcheckbox.setAttribute(\"checked\", \"checked\");\n\t\tcheckbox.setAttribute(\"disabled\", \"disabled\");\n\t};\n\n\tconst makeRequired = () => {\n\t\tcheckbox.setAttribute(\"required\", \"required\");\n\t};\n\n\tconst addGdprRequiredAttr = () => {\n\t\tguardEl.setAttribute(\"data-gdpr-guard-required\", \"\");\n\t};\n\n\tif(isRequired) {\n\t\taddGdprRequiredAttr();\n\t\tmakeCheckedDisabled();\n\t\tmakeRequired();\n\t} else if (checkbox.required) {\n\t\taddGdprRequiredAttr();\n\t\tmakeCheckedDisabled();\n\t} else if (guardEl.hasAttribute(\"data-gdpr-guard-required\")) {\n\t\tmakeCheckedDisabled();\n\t\tmakeRequired();\n\t}\n}\n\n/**\n * Extract the manager's own details from the DOM\n * @param gdprEl - The root of the GDPR state tree\n */\nexport const parseManagerDetails = (gdprEl: HTMLElement) => {\n\tlet managerEl = gdprEl;\n\tconst { gdpr } = gdprEl.dataset;\n\tlet managerName: string = \"\";\n\n\tif (isMeaningfulStr(gdpr)) {\n\t\tmanagerName = gdpr;\n\t} else {\n\t\tconst el = gdprEl.querySelector<HTMLElement>(\"[data-gdpr-manager]\");\n\n\t\tif (!el) {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\n\t\tmanagerEl = el as HTMLElement;\n\t\tmanagerName = nameFromDOM(managerEl, \"gdpr-manager\");\n\t}\n\n\tconst managerCheckbox = checkboxFromDOM(managerEl, managerName);\n\n\treturn {\n\t\tmanagerEl,\n\t\tmanagerCheckbox,\n\t\tmanagerName,\n\t};\n};\n","/**\n * Execute an action/callback on each child\n * @param rootEl - The parent element\n * @param action - The action/callback to execute on each child\n */\nexport const forEachChild = (rootEl: HTMLElement, action: (el: HTMLElement) => void) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el) {\n\t\t\taction(el as HTMLElement);\n\t\t}\n\t}\n}\n\nexport const findChild = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\treturn el as HTMLElement;\n\t\t}\n\t}\n\n\treturn null;\n}\n\n/**\n * Find all the children that satisfy the given predicate\n * @param rootEl - The parent element\n * @param predicate - The predicate to satisfy\n */\nexport const findAllChildren = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tconst ret = [] as HTMLElement[];\n\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\tret.push(el as HTMLElement);\n\t\t}\n\t}\n\n\treturn ret;\n};\n\n/**\n * Get the first child that matches the given selector\n * @param rootEl - The parent element\n * @param selector - The children selector\n */\nexport const childSelector = (rootEl: HTMLElement, selector: string) => {\n\treturn findChild(rootEl, el => el.matches(selector));\n}\n\n/**\n * Get all the children of the given root that match the given selector\n * @param rootEl - The parent element\n * @param selector - The children selector\n */\nexport const childSelectorAll = (rootEl: HTMLElement, selector: string) => {\n\treturn findAllChildren(rootEl, el => el.matches(selector));\n};\n","import { GdprGroupBuilder, GdprManagerBuilder } from \"gdpr-guard\";\nimport {\n\tcheckboxFromDOM,\n\tdescriptionFromDOM,\n\tguardIsRequiredInDOM,\n\tnameFromDOM,\n\tstorageFromDOM, syncRequiredInDOM\n} from \"@/domainLogic/dataExtractors\";\nimport { childSelectorAll, forEachChild } from \"@/utils/dom\";\n\nexport interface GuardParseResult {\n\tname: string;\n\tcheckbox: HTMLInputElement;\n}\n\n/**\n * Parse a guard's data and add it to the manager\n * @param guardEl - The root element of the gaurd's data\n * @param groupBuilder - The current group builder's state\n * @param parentRequired - Whether the group is required\n */\nconst addGuard = (guardEl: HTMLElement, groupBuilder: GdprGroupBuilder, parentRequired: boolean): GuardParseResult => {\n\tconst guardBuilder = groupBuilder.startGuard();\n\n\tconst name = nameFromDOM(guardEl, \"gdpr-guard\");\n\tguardBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(guardEl, name);\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(guardEl, checkbox);\n\tsyncRequiredInDOM(guardEl, checkbox, isRequired);\n\n\tif (isRequired) {\n\t\tguardBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tguardBuilder.enabled();\n\t} else {\n\t\tguardBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(guardEl);\n\n\tif (description) {\n\t\tguardBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(guardEl);\n\n\tif (storage !== null) {\n\t\tguardBuilder.storedIn(storage);\n\t}\n\n\tguardBuilder.endGuard();\n\n\treturn {\n\t\tname,\n\t\tcheckbox,\n\t};\n};\n\n/**\n * Get the data for a group and add it to the manager\n * @param groupEl - The root of the group's data\n * @param managerBuilder - The current manager (or group) builder's state\n * @param parentRequired - Whether the manager (or parent group) is required\n * @throws {NoNameError} - If the group's name or a guard's name cannot be parsed\n */\nconst addGroup = (groupEl: HTMLElement, managerBuilder: GdprManagerBuilder, parentRequired: boolean): GuardParseResult[] => {\n\tconst groupBuilder = managerBuilder.startGroup();\n\n\t// The name is mandatory, if it can't parse it then it'll throw\n\tconst name = nameFromDOM(groupEl, \"gdpr-group\");\n\tgroupBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(groupEl, name);\n\n\tconst parsedGuards = [{\n\t\tname,\n\t\tcheckbox,\n\t}];\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(groupEl, checkbox);\n\tsyncRequiredInDOM(groupEl, checkbox, isRequired);\n\n\tif (isRequired) {\n\t\tgroupBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tgroupBuilder.enabled();\n\t} else {\n\t\tgroupBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(groupEl);\n\n\tif (description) {\n\t\tgroupBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(groupEl);\n\n\tif (storage !== null) {\n\t\tgroupBuilder.storedIn(storage);\n\t}\n\n\t// Recursively parse child guards from there\n\tconst guards = addChildGuards(groupEl, groupBuilder, isRequired);\n\tgroupBuilder.endGroup();\n\n\n\tparsedGuards.push(...guards);\n\treturn parsedGuards;\n};\n\n/**\n * Recursively add the child guards of a group to the manager\n * @param rootEl - The root element for that group\n * @param groupBuilder - The current group builder's state\n * @param required - Whether the group is required\n */\nconst addChildGuards = (rootEl: HTMLElement, groupBuilder: GdprGroupBuilder, required: boolean = false): GuardParseResult[] => {\n\tconst parsedGuards = [] as GuardParseResult[];\n\n\tforEachChild(rootEl, el => {\n\t\tif (el?.matches(\"[data-gdpr-group]\")) {\n\t\t\tconst guards = addGroup(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(...guards);\n\t\t} else if (el?.matches(\"[data-gdpr-guard]\")) {\n\t\t\tconst guard = addGuard(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(guard);\n\t\t}\n\t});\n\n\treturn parsedGuards;\n};\n\n/**\n * Get the guards from the DOM and add them all to the manager\n * @param managerEl - The root element of the manager's definition\n * @param managerBuilder - The current manager builder's state\n */\nexport const addGuardsFromDOM = (managerEl: HTMLElement, managerBuilder: GdprManagerBuilder): GuardParseResult[] => {\n\treturn childSelectorAll(managerEl, \"[data-gdpr-group]\")\n\t\t.flatMap(el => {\n\t\t\treturn addGroup(el as HTMLElement, managerBuilder, false);\n\t\t});\n};\n","/**\n * Type for event listeners used in the {@link GlobalEventBus}\n */\ntype Listener = (e: Event) => void;\ntype EventName = string;\ntype Selector = string;\n\nexport const GlobalEventBus = {\n\t/**\n\t * Store the event managers and their listeners\n\t */\n\tevents: {} as Record<EventName, Record<Selector, Listener[]>>,\n\n\t/**\n\t * Add an event listener on the given selector as a live listener (i.e. is not limited to the current matching set of {@link HTMLElement})\n\t * @param event - The name of the event\n\t * @param selector - The selector to match against\n\t * @param listener - The listener to call when the event is triggered on an element that matches the given selector\n\t */\n\ton(event: EventName, selector: Selector, listener: Listener) {\n\t\tdocument.querySelectorAll(selector).forEach(el => {\n\t\t\tel.addEventListener(event, listener);\n\t\t});\n\t}\n};\n","import { GdprGuard, GdprManager, GdprManagerFactory, GdprSavior } from \"gdpr-guard\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { GlobalEventBus } from \"@/utils/eventBus\";\nimport { GuardParseResult } from \"@/domainLogic/guardsParsing\";\n\n/**\n * Add listeners to the change event of the manager's and guards' checkboxes\n * @param manager - The manager to handle state changes for\n * @param managerCheckbox - The global manager toggle checkbox\n * @param parsedGuards - The guards that have been parsed from the DOM\n * @param hadManager - Whether the manager came from the savior instead of the factory\n */\nexport const setupCheckboxListeners = (manager: GdprManager, managerCheckbox: HTMLInputElement, parsedGuards: GuardParseResult[], hadManager: boolean) => {\n\tconst handleInitialSync = (checkbox: HTMLInputElement, guard: GdprGuard) => {\n\t\tif (hadManager) {\n\t\t\tif ((checkbox.checked && !guard.enabled) || (!checkbox.checked && guard.enabled)) {\n\t\t\t\tcheckbox.click();\n\t\t\t}\n\t\t}\n\t};\n\n\thandleInitialSync(managerCheckbox, manager);\n\n\tmanagerCheckbox.addEventListener(\"click\", () => {\n\t\tmanager.toggle();\n\t});\n\n\tparsedGuards.forEach(({ name, checkbox }) => {\n\t\tconst guard = manager.getGuard(name)!;\n\n\t\thandleInitialSync(checkbox, guard);\n\n\t\tcheckbox.addEventListener(\"click\", () => {\n\t\t\tguard.toggle();\n\t\t});\n\t});\n};\n\n/**\n * Setup item activation in the `<head>` tag (i.e. to execute code when the corresponding guard is enabled)\n * @param manager - The manager to attach the activation logic to\n * @param itemSelector - The selector to query all the related items (must include `[data-gdpr-on-enable]`)\n * @param setupItemHook - The function to call to set up the item before putting it in the DOM\n */\nexport const setupInHeadActivation = <ItemType extends HTMLElement = HTMLElement>(\n\tmanager: GdprManager,\n\titemSelector: string,\n\tsetupItemHook: (item: ItemType) => void\n) => {\n\tdocument.querySelectorAll<ItemType>(itemSelector)\n\t\t.forEach(item => {\n\t\t\tconst guardName = item.dataset.gdprOnEnable!;\n\n\t\t\tif (manager.hasGuard(guardName)) {\n\t\t\t\tmanager.events.onEnable(guardName, () => {\n\t\t\t\t\t/*\n\t\t\t\t\t\tScript tags have an internal attribute checking whether\n\t\t\t\t\t\tthey have already been loaded. Cloning a script will\n\t\t\t\t\t\talways clone that flag as well (which is unwanted).\n\t\t\t\t\t */\n\n\t\t\t\t\tconst isScript = item.matches(\"script\");\n\n\t\t\t\t\tconst clonedItem = (\n\t\t\t\t\t\tisScript\n\t\t\t\t\t\t\t? document.createElement(\"script\")\n\t\t\t\t\t\t\t: item.cloneNode(true)\n\t\t\t\t\t) as ItemType;\n\n\t\t\t\t\tif (isScript) {\n\t\t\t\t\t\t// Copy attributes over\n\t\t\t\t\t\titem.getAttributeNames().forEach(attrName => {\n\t\t\t\t\t\t\tconst attrValue = item.getAttribute(attrName)!;\n\t\t\t\t\t\t\tclonedItem.setAttribute(attrName, attrValue);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tsetupItemHook(clonedItem);\n\t\t\t\t\tclonedItem.removeAttribute(\"data-gdpr-on-enable\");\n\t\t\t\t\titem.remove();\n\t\t\t\t\tdocument.head.appendChild(clonedItem);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t});\n};\n\n\n/**\n * Setup scripts activation logic to load them when the corresponding guard is enabled (type must initially be text and the src attribute mst be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupScriptActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLScriptElement>(\n\t\tmanager,\n\t\t\"script[type='text'][src][data-gdpr-on-enable]\",\n\t\tactualScript => {\n\t\t\tactualScript.setAttribute(\"type\", \"text/javascript\");\n\t\t}\n\t);\n};\n\n/**\n * Setup stylesheets activation logic to load them when the corresponding guard is enabled (rel attribute must be different from stylesheet and the href attribute must be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupStyleSheetsActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLLinkElement>(\n\t\tmanager,\n\t\t\"link[href][data-gdpr-on-enable]\",\n\t\tactualStyleSheet => {\n\t\t\tactualStyleSheet.setAttribute(\"rel\", \"stylesheet\");\n\t\t}\n\t);\n};\n\nexport type BindEventsCallback = (eventsHub: GdprManagerEventHub) => void;\n\nexport type StoreErrorHandler = (didStore: boolean, error?: Error) => void;\n\nexport interface SetupButtonListenersHooks {\n\tonDeclineAllErrorHook: StoreErrorHandler;\n\tonAllowAllErrorHook: StoreErrorHandler;\n\tonCancelErrorHook: StoreErrorHandler;\n\tonSaveErrorHook: StoreErrorHandler;\n\tonBannerClose: () => void;\n\tonBannerOpen: () => void;\n}\n\n/**\n * Bind event listeners to the general buttons\n * @param manager\n * @param gdprSavior\n * @param hooks\n * @param restoreFactory\n */\nexport const setupButtonsListeners = (\n\tmanager: GdprManager,\n\tgdprSavior: GdprSavior,\n\thooks: SetupButtonListenersHooks,\n\trestoreFactory: GdprManagerFactory\n) => {\n\tconst doClose = () => {\n\t\tmanager.closeBanner();\n\t\thooks.onBannerClose();\n\t};\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-open]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.resetAndShowBanner();\n\t\thooks.onBannerOpen();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-decline-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.disable();\n\t\tmanager.closeBanner();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\t\thooks.onDeclineAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdoClose();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\thooks.onDeclineAllErrorHook(didStore, e as Error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\thooks.onDeclineAllErrorHook(false, e)\n\t\t\t});\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-allow-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.enable();\n\t\tmanager.closeBanner();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\t\thooks.onAllowAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdoClose();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\thooks.onAllowAllErrorHook(didStore, e as Error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\thooks.onAllowAllErrorHook(false, e)\n\t\t\t});\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-cancel]\", e => {\n\t\te.preventDefault();\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst hadManager = await gdprSavior.exists(false);\n\n\t\t\t\tif (hadManager) {\n\t\t\t\t\tawait gdprSavior.restore(true);\n\t\t\t\t} else {\n\t\t\t\t\tawait gdprSavior.restoreOrCreate(restoreFactory);\n\t\t\t\t\t//TODO: Use save/restore new API (when it's out, for now the savior API has to suffice)\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\thooks.onCancelErrorHook(true, e as Error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-save]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.closeBanner();\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\t\thooks.onSaveErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdoClose();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\thooks.onSaveErrorHook(didStore, e as Error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tmanager.resetAndShowBanner();\n\t\t\t\thooks.onSaveErrorHook(e);\n\t\t\t});\n\t});\n};\n","import { NoManagerDefinitionError } from \"@/errors/NoManagerDefinitionError\";\nimport { GdprManager, GdprManagerBuilder, GdprSavior } from \"gdpr-guard\";\nimport { parseManagerDetails } from \"@/domainLogic/dataExtractors\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { addGuardsFromDOM } from \"@/domainLogic/guardsParsing\";\nimport {\n\tBindEventsCallback,\n\tsetupButtonsListeners,\n\tsetupCheckboxListeners,\n\tsetupScriptActivation,\n\tsetupStyleSheetsActivation,\n\tStoreErrorHandler,\n} from \"@/domainLogic/listeners\";\n\nexport type AddGuardsCallback = (managerBuilder: GdprManagerBuilder) => void;\n\nexport interface GdprHtmlManagerOptions {\n\t/**\n\t * The element that serves as the root of the GDPR manager's definition in the DOM\n\t * @default document.querySelector(\"[data-gdpr]\")\n\t */\n\tgdprEl?: HTMLElement;\n\n\t/**\n\t * Whether to auto close the banner (only if it has already been displayed to the user)\n\t * @default true\n\t */\n\tautoCloseBanner?: boolean;\n\n\t/**\n\t * A callback to attach event listeners to the {@link GdprManagerEventHub} before finalizing the setup\n\t * @default () => {}\n\t */\n\tbindEventHandlersHook?: BindEventsCallback;\n\n\t/**\n\t * Add guards before the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsBeforeHook?: AddGuardsCallback;\n\n\t/**\n\t * Add guards after the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsAfterHook?: AddGuardsCallback;\n\n\t/**\n\t * Handle failure of declining all\n\t */\n\tonDeclineAllErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of allowing all\n\t */\n\tonAllowAllErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of saving\n\t */\n\tonSaveErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of cancelling\n\t */\n\tonCancelErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Execute code when closing the banner\n\t */\n\tonBannerClose?: () => void;\n\n\t/**\n\t * Execute code when opening the banner\n\t */\n\tonBannerOpen?: () => void;\n}\n\n// TODO: Reset API in gdpr-guard?\n\n/**\n * Initialize the gdpr-guard logic from the DOM or the provided {@link GdprSavior}\n * @param gdprSavior - The savior to use to restore and save the {@link GdprManager} data\n * @param {GdprHtmlManagerOptions} [options] - The setup's options\n * @returns {Promise<GdprManager>} The restored GDPR manager\n * @throws {NoManagerDefinitionError} - If no manager definition can be found\n * (either {@link gdprEl} is `undefined` or `document.querySelector(\"[data-gdpr]\")` returned `null`)\n */\nexport const restoreHtmlGdprManager = async (gdprSavior: GdprSavior, {\n\tgdprEl = undefined,\n\tautoCloseBanner = true,\n\n\tbindEventHandlersHook = () => {},\n\taddGuardsBeforeHook = () => {},\n\taddGuardsAfterHook = () => {},\n\n\tonDeclineAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onDeclineAllErrorHook]\", {didStore, err}),\n\tonAllowAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onAllowAllErrorHook]\", {didStore, err}),\n\tonSaveErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onSaveErrorHook]\", {didStore, err}),\n\tonCancelErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onCancelErrorHook]\", {didStore, err}),\n\n\tonBannerClose = () => {},\n\tonBannerOpen = () => {},\n}: GdprHtmlManagerOptions = {}): Promise<GdprManager> => {\n\tif (typeof gdprEl === \"undefined\") {\n\t\tgdprEl = document.querySelector<HTMLElement>(\"[data-gdpr]\") ?? undefined;\n\n\t\tif (typeof gdprEl === \"undefined\") {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\t}\n\n\tconst { managerEl, managerCheckbox } = parseManagerDetails(gdprEl);\n\n\tconst managerBuilder = GdprManagerBuilder.make();\n\n\taddGuardsBeforeHook(managerBuilder);\n\tconst parsedGuards = addGuardsFromDOM(managerEl, managerBuilder);\n\taddGuardsAfterHook(managerBuilder);\n\n\tconst managerFactory = async () => managerBuilder.build();\n\tconst hadManager = await gdprSavior.exists(false);\n\tconst manager = await gdprSavior.restoreOrCreate(managerFactory);\n\n\tsetupScriptActivation(manager);\n\tsetupStyleSheetsActivation(manager);\n\tsetupCheckboxListeners(manager, managerCheckbox, parsedGuards, hadManager);\n\tsetupButtonsListeners(manager, gdprSavior, {\n\t\tonDeclineAllErrorHook,\n\t\tonAllowAllErrorHook,\n\t\tonSaveErrorHook,\n\t\tonCancelErrorHook,\n\t\tonBannerClose,\n\t\tonBannerOpen,\n\t}, managerFactory);\n\n\tbindEventHandlersHook(manager.events);\n\n\tif (autoCloseBanner && manager.bannerWasShown) {\n\t\tmanager.closeBanner();\n\t\tonBannerClose();\n\t} else { // Allows banner to be in closed state by default and open it when JS is ready\n\t\tmanager.resetAndShowBanner();\n\t\tonBannerOpen();\n\t}\n\n\treturn manager;\n};\n\nexport * from \"./errors\";\n"],"names":["root","factory","exports","module","define","amd","self","window","this","r","t","e","Object","defineProperty","value","makeGuard","n","o","i","GdprStorage","Cookie","name","description","storage","required","enabled","enable","toggle","disable","makeRequired","isEnabled","enableForStorage","toggleForStorage","disableForStorage","raw","JSON","parse","stringify","__values","Symbol","iterator","call","length","next","done","TypeError","__read","u","push","error","return","__spreadArray","arguments","Array","prototype","slice","concat","GdprGuardGroup","a","None","bindings","Map","for","addGuard","set","hasGuard","has","getGuard","get","s","doForEachGuard","guards","map","forEach","getGuards","values","GdprManager","d","c","bannerWasShown","events","GdprManagerEventHub","groups","create","addGroup","closeBanner","visitGdpr","onEach","resetAndShowBanner","createGroup","reduceGroupsPred","hasGroup","getGroup","forEachGroup","getGroups","eventMap","onEnable","addListener","onDisable","executeListeners","tagFor","LocalStorage","SessionStorage","IndexedDb","FileSystem","ServerStorage","All","__extends","setPrototypeOf","__proto__","hasOwnProperty","String","constructor","GdprGroupBuilder","p","parent","require","startGroup","startRequiredGroup","endGroup","withName","edit","withDescription","storedIn","disabled","startGuard","GdprGuardBuilder","startRequiredGuard","withEnabledGuard","endGuard","withDisabledGuard","GdprManagerBuilder","make","withBannerShown","startEnabledGroup","startDisabledGroup","build","__createBinding","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","__exportStar","GdprDeserializer","manager","every","isArray","group","filter","guard","__awaiter","Promise","throw","then","apply","__generator","label","sent","trys","ops","pop","GdprSaviorAdapter","exists","restore","storeIfNotExists","store","restoreOrCreate","updateSharedManager","check","resolve","setTimeout","onManager","onGroup","onGuard","l","f","h","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","key","obj","prop","toStringTag","message","Error","NoManagerDefinitionError","defaultMessage","HtmlGdprGuardError","NoNameError","NoCheckboxError","isMeaningfulStr","str","test","nameFromDOM","guardEl","guardDataKey","nameDataKey","dataset","replace","_","letter","toUpperCase","toCamelCase","trim","rootEl","selector","nameHolder","predicate","childElementCount","el","children","item","findChild","matches","textName","textContent","checkboxFromDOM","guardName","strategies","document","getElementById","querySelector","checkbox","strategy","descriptionFromDOM","hasAttribute","gdprGuardDescription","descriptionEl","storageFromDOM","rawStorage","gdprGuardStorage","guardIsRequiredInDOM","syncRequiredInDOM","isRequired","makeCheckedDisabled","setAttribute","addGdprRequiredAttr","groupEl","managerBuilder","parentRequired","groupBuilder","parsedGuards","checked","addChildGuards","action","forEachChild","guardBuilder","GlobalEventBus","event","listener","querySelectorAll","addEventListener","setupInHeadActivation","itemSelector","setupItemHook","gdprOnEnable","isScript","clonedItem","createElement","cloneNode","getAttributeNames","attrName","attrValue","getAttribute","removeAttribute","remove","head","appendChild","restoreHtmlGdprManager","gdprSavior","gdprEl","autoCloseBanner","bindEventHandlersHook","addGuardsBeforeHook","addGuardsAfterHook","onDeclineAllErrorHook","didStore","err","console","onAllowAllErrorHook","onSaveErrorHook","onCancelErrorHook","onBannerClose","onBannerOpen","managerEl","gdpr","managerName","managerCheckbox","parseManagerDetails","ret","findAllChildren","flatMap","addGuardsFromDOM","managerFactory","hadManager","actualScript","setupScriptActivation","actualStyleSheet","setupStyleSheetsActivation","handleInitialSync","click","setupCheckboxListeners","hooks","restoreFactory","doClose","preventDefault","catch","setupButtonsListeners"],"sourceRoot":""}