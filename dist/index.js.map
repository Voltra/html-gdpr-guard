{"version":3,"file":"index.js","mappings":"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","sources":["webpack://htmlGdprGuard/webpack/universalModuleDefinition","webpack://htmlGdprGuard/./node_modules/gdpr-guard/dist/gdpr_guard.js","webpack://htmlGdprGuard/webpack/bootstrap","webpack://htmlGdprGuard/webpack/runtime/define property getters","webpack://htmlGdprGuard/webpack/runtime/hasOwnProperty shorthand","webpack://htmlGdprGuard/webpack/runtime/make namespace object","webpack://htmlGdprGuard/./src/errors/HtmlGdprGuardError.ts","webpack://htmlGdprGuard/./src/errors/NoManagerDefinitionError.ts","webpack://htmlGdprGuard/./src/errors/NoNameError.ts","webpack://htmlGdprGuard/./src/errors/NoCheckboxError.ts","webpack://htmlGdprGuard/./src/utils/misc.ts","webpack://htmlGdprGuard/./src/domainLogic/dataExtractors.ts","webpack://htmlGdprGuard/./src/utils/dom.ts","webpack://htmlGdprGuard/./src/domainLogic/guardsParsing.ts","webpack://htmlGdprGuard/./src/utils/eventBus.ts","webpack://htmlGdprGuard/./src/domainLogic/listeners.ts","webpack://htmlGdprGuard/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"htmlGdprGuard\"] = factory();\n\telse\n\t\troot[\"htmlGdprGuard\"] = factory();\n})(self, function() {\nreturn ","!function(t,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(\"gdprGuard\",[],r):\"object\"==typeof exports?exports.gdprGuard=r():t.gdprGuard=r()}(self,(function(){return(()=>{\"use strict\";var t={315:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.makeGuard=void 0;var n=e(670);r.makeGuard=function(t,r,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=null),{name:t,description:r,storage:e,required:o,enabled:null===i?o:i,enable:function(){return this.enabled||this.toggle(),this},disable:function(){return this.enabled&&this.toggle(),this},toggle:function(){return this.required||(this.enabled=!this.enabled),this},makeRequired:function(){return this.required=!0,this.enabled=!0,this},isEnabled:function(t){return this.name===t&&this.enabled},enableForStorage:function(t){return this.enabled||this.toggleForStorage(t),this},disableForStorage:function(t){return this.enabled&&this.toggleForStorage(t),this},toggleForStorage:function(t){return this.storage!=t||this.required||this.toggle(),this},raw:function(){return JSON.parse(JSON.stringify(this))}}}},822:function(t,r,e){var n=this&&this.__values||function(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGuardGroup=void 0;var u=e(670),a=function(){function t(t,r,e,n){void 0===r&&(r=\"\"),void 0===e&&(e=!1),void 0===n&&(n=!1),this.name=t,this.description=r,this.enabled=e,this.required=n,this.storage=u.GdprStorage.None,this.bindings=new Map,this.required&&(this.enabled=!0)}return t.for=function(r,e,n,o){return void 0===e&&(e=\"\"),void 0===n&&(n=!1),void 0===o&&(o=!1),new t(r,e,n,o)},t.prototype.addGuard=function(t){return this.bindings.set(t.name,t),this},t.prototype.hasGuard=function(t){return this.name===t||this.bindings.has(t)},t.prototype.getGuard=function(t){return this.name===t?this:this.bindings.get(t)||null},t.prototype.isEnabled=function(t){var r,e;if(this.hasGuard(t)&&null!==(a=this.getGuard(t)))return a.enabled;try{for(var i=n(this.bindings),u=i.next();!u.done;u=i.next()){var a,s=o(u.value,2);if(s[0],(a=s[1]).isEnabled(t))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.enable=function(){return this.required?this:(this.enabled=!0,this.doForEachGuard((function(t){return t.enable()})))},t.prototype.disable=function(){return this.required?this:(this.enabled=!1,this.doForEachGuard((function(t){return t.disable()})))},t.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},t.prototype.makeRequired=function(){return this.required=!0,this.enabled=!0,this.doForEachGuard((function(t){return t.makeRequired()}))},t.prototype.enableForStorage=function(t){return this.doForEachGuard((function(r){r.storage&t&&r.enable()}))},t.prototype.disableForStorage=function(t){return this.doForEachGuard((function(r){r.storage&t&&r.disable()}))},t.prototype.toggleForStorage=function(t){return this.doForEachGuard((function(r){if(r.storage&t)return r.toggle()}))},t.prototype.raw=function(){var t={name:this.name,description:this.description,enabled:this.enabled,required:this.required,storage:this.storage,guards:[]};return t.guards=i([],o(this.bindings),!1).map((function(t){var r=o(t,2);return r[0],r[1].raw()})),t},t.prototype.doForEachGuard=function(t){return this.bindings.forEach((function(r){return t(r)})),this},t.prototype.getGuards=function(){return i([],o(this.bindings.values()),!1)},t}();r.GdprGuardGroup=a},777:function(t,r,e){var n=this&&this.__values||function(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManager=void 0;var u=e(822),a=e(670),s=e(554),d=e(779),c=function(){function t(){this.bannerWasShown=!1,this.enabled=!0,this.events=new s.GdprManagerEventHub,this.groups=new Map,this.name=\"manager\",this.description=\"Manager of GDPR guard groups\",this.storage=a.GdprStorage.None,this.required=!1}return t.create=function(r){void 0===r&&(r=[]);var e=new t;return r.forEach((function(t){return e.addGroup(t)})),e},t.prototype.closeBanner=function(){var t=this;this.bannerWasShown=!0,(0,d.visitGdpr)(this,{onEach:function(r){r.enabled?t.events.enable(r.name):t.events.disable(r.name)}})},t.prototype.resetAndShowBanner=function(){this.bannerWasShown=!1},t.prototype.createGroup=function(t,r){return void 0===r&&(r=\"\"),this.addGroup(u.GdprGuardGroup.for(t,r))},t.prototype.addGroup=function(t){return this.groups.set(t.name,t),this},t.prototype.hasGuard=function(t){return this.reduceGroupsPred((function(r){return r.hasGuard(t)}))},t.prototype.getGuard=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=(a[0],a[1]);if(s.hasGuard(t))return s.getGuard(t)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return null},t.prototype.hasGroup=function(t){return this.reduceGroupsPred((function(r){return r.name===t}))},t.prototype.getGroup=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2),s=a[0],d=a[1];if(s===t)return d}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return null},t.prototype.isEnabled=function(t){return this.reduceGroupsPred((function(r){return r.isEnabled(t)}))},t.prototype.enable=function(){return this.enabled=!0,this.forEachGroup((function(t){return t.enable()}))},t.prototype.disable=function(){return this.enabled=!1,this.forEachGroup((function(t){return t.disable()}))},t.prototype.toggle=function(){return this.enabled?this.disable():this.enable()},t.prototype.makeRequired=function(){return this},t.prototype.enableForStorage=function(t){return this.forEachGroup((function(r){return r.enableForStorage(t)}))},t.prototype.disableForStorage=function(t){return this.forEachGroup((function(r){return r.disableForStorage(t)}))},t.prototype.toggleForStorage=function(t){return this.forEachGroup((function(r){return r.toggleForStorage(t)}))},t.prototype.raw=function(){var t={bannerWasShown:this.bannerWasShown,enabled:this.enabled,groups:[]};return t.groups=i([],o(this.groups.values()),!1).map((function(t){return t.raw()})),t},t.prototype.reduceGroupsPred=function(t){var r,e;try{for(var i=n(this.groups),u=i.next();!u.done;u=i.next()){var a=o(u.value,2);if(a[0],t(a[1]))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.forEachGroup=function(t){return this.groups.forEach((function(r){return t(r)})),this},t.prototype.getGroups=function(){return i([],o(this.groups.values()),!1)},t}();r.GdprManager=c},554:(t,r)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManagerEventHub=void 0;var e=function(){function t(){this.eventMap={}}return t.prototype.onEnable=function(t,r){return this.addListener(\"enable\",t,r),this},t.prototype.onDisable=function(t,r){return this.addListener(\"disable\",t,r),this},t.prototype.enable=function(t){return this.executeListeners(\"enable\",t),this},t.prototype.disable=function(t){return this.executeListeners(\"disable\",t),this},t.prototype.tagFor=function(t,r){return\"\".concat(t,\"--\").concat(r)},t.prototype.addListener=function(t,r,e){var n=this.tagFor(t,r);n in this.eventMap||(this.eventMap[n]=[]),this.eventMap[n].push(e)},t.prototype.executeListeners=function(t,r){var e,n=this.tagFor(t,r);null===(e=this.eventMap[n])||void 0===e||e.forEach((function(t){return t()}))},t}();r.GdprManagerEventHub=e},670:(t,r)=>{var e;Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprStorage=void 0,function(t){t[t.None=1]=\"None\",t[t.Cookie=2]=\"Cookie\",t[t.LocalStorage=4]=\"LocalStorage\",t[t.SessionStorage=8]=\"SessionStorage\",t[t.IndexedDb=16]=\"IndexedDb\",t[t.FileSystem=16]=\"FileSystem\",t[t.ServerStorage=16]=\"ServerStorage\",t[t.All=30]=\"All\"}(e||(e={})),r.GdprStorage=e},860:function(t,r,e){var n,o=this&&this.__extends||(n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},n(t,r)},function(t,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),i=this&&this.__read||function(t,r){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},u=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return t.concat(n||Array.prototype.slice.call(r))};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGroupBuilder=void 0;var a=e(670),s=e(237),d=e(822),c=e(890),p=function(t){function r(r,e,n,o,i,u){var a=t.call(this)||this;return a.parent=r,a.name=e,a.description=n,a.enable=i,a.require=u,a.guards=[],a.storage=o,u&&(a.enable=!0),a}return o(r,t),r.create=function(t,e,n,o,i,u){return void 0===n&&(n=\"\"),void 0===o&&(o=null),void 0===i&&(i=!0),void 0===u&&(u=!1),new r(t,e,n,o||a.GdprStorage.Cookie,i,u)},r.prototype.startGroup=function(r,e,n){return void 0===r&&(r=null),void 0===e&&(e=\"\"),void 0===n&&(n=\"\"),t.prototype.startGroup.call(this,r||this.parent.storage,e,n)},r.prototype.startRequiredGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e).required()},r.prototype.endGroup=function(){var t=this.require||this.enable,r=d.GdprGuardGroup.for(this.name,this.description,t,this.require);return u(u([],i(this.guards),!1),i(this.groups),!1).forEach((function(t){return r.addGuard(t)})),this.require&&r.makeRequired(),this.parent.groups.push(r),this.parent},r.prototype.withName=function(t){return this.edit((function(r){return r.name=t}))},r.prototype.withDescription=function(t){return this.edit((function(r){return r.description=t}))},r.prototype.storedIn=function(t){return this.edit((function(r){return r.storage=t}))},r.prototype.enabled=function(){return this.edit((function(t){return t.enable=!0}))},r.prototype.disabled=function(){return this.edit((function(t){return t.enable=!1}))},r.prototype.required=function(){return this.edit((function(t){return t.require=!0}))},r.prototype.startGuard=function(t){return void 0===t&&(t=null),c.GdprGuardBuilder.create(this,t||this.storage,this.enable)},r.prototype.startRequiredGuard=function(t){return this.startGuard(t).required()},r.prototype.withEnabledGuard=function(t,r,e){return void 0===r&&(r=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(t).withDescription(r).enabled().endGuard()},r.prototype.withDisabledGuard=function(t,r,e){return void 0===r&&(r=\"\"),void 0===e&&(e=null),this.startGuard(e).withName(t).withDescription(r).disabled().endGuard()},r.prototype.edit=function(t){return t(this),this},r}(s.GdprManagerBuilder);r.GdprGroupBuilder=p},890:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprGuardBuilder=void 0;var n=e(670),o=e(315),i=function(){function t(t,r,e,n){this.parent=t,this.storage=r,this.enable=e,this.require=n,this.name=\"\",this.description=\"\",n&&(this.enable=!0)}return t.create=function(r,e,o,i){return void 0===e&&(e=n.GdprStorage.Cookie),void 0===o&&(o=!1),void 0===i&&(i=!1),new t(r,e,o,i)},t.prototype.endGuard=function(){var t=this.require||this.enable,r=(0,o.makeGuard)(this.name,this.description,this.storage,this.require,t);return this.require&&r.makeRequired(),this.parent.guards.push(r),this.parent},t.prototype.withName=function(t){return this.edit((function(r){return r.name=t}))},t.prototype.withDescription=function(t){return this.edit((function(r){return r.description=t}))},t.prototype.enabled=function(){return this.edit((function(t){return t.enable=!0}))},t.prototype.disabled=function(){return this.edit((function(t){return t.enable=!1}))},t.prototype.storedIn=function(t){return this.edit((function(r){return r.storage=t}))},t.prototype.required=function(){return this.edit((function(t){return t.require=!0}))},t.prototype.edit=function(t){return t(this),this},t}();r.GdprGuardBuilder=i},237:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprManagerBuilder=void 0;var n=e(670),o=e(777),i=e(171),u=function(){function t(){this.storage=n.GdprStorage.Cookie,this.groups=[],this.bannerWasShown=!1}return t.make=function(){return new t},t.prototype.withBannerShown=function(t){void 0===t&&(t=!0),this.bannerWasShown=t},t.prototype.startGroup=function(t,r,e,n){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),void 0===n&&(n=!0),i.GdprGroupBuilder.create(this,r,e,t,n,!1)},t.prototype.startRequiredGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startEnabledGroup(t,r,e).required()},t.prototype.startEnabledGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e,!0).enabled()},t.prototype.startDisabledGroup=function(t,r,e){return void 0===t&&(t=null),void 0===r&&(r=\"\"),void 0===e&&(e=\"\"),this.startGroup(t,r,e,!1).disabled()},t.prototype.build=function(){var t=o.GdprManager.create(this.groups);return t.bannerWasShown=this.bannerWasShown,t},t.prototype.endGroup=function(){return this},t}();r.GdprManagerBuilder=u},171:function(t,r,e){var n=this&&this.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!(\"get\"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,o)}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),o=this&&this.__exportStar||function(t,r){for(var e in t)\"default\"===e||Object.prototype.hasOwnProperty.call(r,e)||n(r,t,e)};Object.defineProperty(r,\"__esModule\",{value:!0}),o(e(890),r),o(e(237),r),o(e(860),r)},93:function(t,r,e){var n=this&&this.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!(\"get\"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,o)}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),o=this&&this.__exportStar||function(t,r){for(var e in t)\"default\"===e||Object.prototype.hasOwnProperty.call(r,e)||n(r,t,e)};Object.defineProperty(r,\"__esModule\",{value:!0}),o(e(315),r),o(e(822),r),o(e(777),r),o(e(670),r),o(e(779),r),o(e(171),r),o(e(562),r),o(e(344),r)},562:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprDeserializer=void 0;var n=e(777),o=e(670),i=e(822),u=e(315),a=function(){function t(){}return t.manager=function(t){var r=this;if(![\"enabled\",\"groups\"].every((function(r){return r in t}))||\"boolean\"!=typeof t.enabled||!Array.isArray(t.groups))return null;var e=t.groups.map((function(t){return r.group(t)})).filter((function(t){return null!==t})),o=n.GdprManager.create([]);return o.enabled=!!t.enabled,o.bannerWasShown=!!t.bannerWasShown,e.length?(e.forEach((function(t){return o.addGroup(t)})),o):null},t.group=function(t){var r=this,e=this.guard(t);if(null===e)return null;var n=[\"guards\"];if(!n.every((function(r){return r in t}))||!Array.isArray(t.guards))return null;var o=i.GdprGuardGroup.for(e.name,e.description,e.enabled,e.required),u=t.guards.map((function(t){return n.every((function(r){return r in t}))?r.group(t):r.guard(t)})).filter((function(t){return null!==t}));return u.length?(u.forEach((function(t){return o.addGuard(t)})),o):null},t.guard=function(t){return[\"name\",\"enabled\",\"required\",\"description\",\"storage\"].every((function(r){return r in t}))&&\"string\"==typeof t.name&&\"boolean\"==typeof t.enabled&&\"boolean\"==typeof t.required&&\"string\"==typeof t.description&&\"number\"==typeof t.storage&&t.storage in o.GdprStorage?(0,u.makeGuard)(t.name,t.description,t.storage,!!t.required,!!t.enabled):null},t}();r.GdprDeserializer=a},344:function(t,r){var e=this&&this.__awaiter||function(t,r,e,n){return new(e||(e=Promise))((function(o,i){function u(t){try{s(n.next(t))}catch(t){i(t)}}function a(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(u,a)}s((n=n.apply(t,r||[])).next())}))},n=this&&this.__generator||function(t,r){var e,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(e=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(t,u)}catch(t){i=[6,t],n=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(r,\"__esModule\",{value:!0}),r.GdprSaviorAdapter=void 0;var o=function(){function t(){}return t.prototype.exists=function(t){return void 0===t&&(t=!0),e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.restore(t)];case 1:return[2,null!==r.sent()]}}))}))},t.prototype.storeIfNotExists=function(t){return e(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.exists()];case 1:return[2,!!r.sent()||this.store(t)]}}))}))},t.prototype.restoreOrCreate=function(t){return e(this,void 0,void 0,(function(){var r,e;return n(this,(function(n){switch(n.label){case 0:return[4,this.restore()];case 1:return(r=n.sent())?[3,3]:[4,t()];case 2:return e=n.sent(),this.updateSharedManager(e),e.bannerWasShown&&e.closeBanner(),[2,e];case 3:return r.bannerWasShown&&r.closeBanner(),[2,r]}}))}))},t.prototype.check=function(){return e(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve()];case 1:return r.sent(),setTimeout((function(){t.exists(!0)}),100),[2]}}))}))},t}();r.GdprSaviorAdapter=o},779:(t,r,e)=>{Object.defineProperty(r,\"__esModule\",{value:!0}),r.visitGdpr=void 0;var n=e(777),o=e(822);r.visitGdpr=function(t,e){var i=void 0===e?{}:e,u=i.onManager,a=void 0===u?function(){}:u,s=i.onGroup,d=void 0===s?function(){}:s,c=i.onGuard,p=void 0===c?function(){}:c,l=i.onEach,f=void 0===l?function(){}:l,h={onManager:a,onGroup:d,onGuard:p,onEach:f};t instanceof n.GdprManager?(a(t),f(t),t.getGroups().forEach((function(t){return(0,r.visitGdpr)(t,h)}))):t instanceof o.GdprGuardGroup?(d(t),f(t),t.getGuards().forEach((function(t){return(0,r.visitGdpr)(t,h)}))):(p(t),f(t))}}},r={};return function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}(93)})()}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export class HtmlGdprGuardError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\n/**\n * Error thrown when the library does not find\n * a root {@link HTMLElement} to get the manager's\n * data from\n */\nexport class NoManagerDefinitionError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No definition found for the GDPR manager\";\n\n\tconstructor(message = NoManagerDefinitionError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\nexport class NoNameError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"Guard definition is missing the guard's name\";\n\n\tconstructor(message: string = NoNameError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","import { HtmlGdprGuardError } from \"@/errors/HtmlGdprGuardError\";\n\nexport class NoCheckboxError extends HtmlGdprGuardError {\n\tstatic defaultMessage: string = \"No checkbox found for that guard\";\n\n\tconstructor(message: string = NoCheckboxError.defaultMessage) {\n\t\tsuper(message);\n\t}\n}\n","export const isMeaningfulStr = (str?: string|null): str is string => {\n\treturn !!str && !/^\\s*$/.test(str);\n};\n\nexport const toCamelCase = (str: string): string => {\n\treturn str.replace(/-(\\w)/g, (_, letter: string) => letter.toUpperCase());\n};\n","import { childSelector } from \"@/utils/dom\";\nimport { NoNameError } from \"@/errors/NoNameError\";\nimport { NoCheckboxError } from \"@/errors/NoCheckboxError\";\nimport { GdprStorage } from \"gdpr-guard\";\nimport { isMeaningfulStr, toCamelCase } from \"@/utils/misc\";\nimport { NoManagerDefinitionError } from \"@/errors/NoManagerDefinitionError\";\n\n/**\n * Get the guard's name from the DOM\n * @param guardEl - The guard element to query\n * @param guardDataKey - The key in the dataset of {@link guardEl} where the name could be\n * @param nameDataKey - The name of the data attribute that can be found in child nodes to parse the name\n * @throws {NoNameError} - If it can't find the guard's name\n */\nexport const nameFromDOM = (guardEl: HTMLElement, guardDataKey: string, nameDataKey: string = \"gdpr-guard-name\"): string => {\n\tconst str = guardEl.dataset[toCamelCase(guardDataKey)];\n\n\tif (isMeaningfulStr(str)) {\n\t\treturn str.trim();\n\t}\n\n\t// const nameHolder: HTMLElement|null = guardEl.querySelector(`[data-${nameDataKey}]`);\n\tconst nameHolder: HTMLElement|null = childSelector(guardEl, `[data-${nameDataKey}]`);\n\n\tconst name = nameHolder?.dataset[nameDataKey];\n\tif (!isMeaningfulStr(name)) {\n\t\tconst textName = nameHolder?.textContent;\n\n\t\tif (isMeaningfulStr(textName)) {\n\t\t\treturn textName.trim();\n\t\t}\n\n\t\tthrow new NoNameError();\n\t}\n\n\treturn name.trim();\n};\n\n/**\n * Get the guard's checkbox from the DOM\n * @param guardEl - The root of the guard's tree\n * @param guardName - The guard's name\n */\nexport const checkboxFromDOM = (guardEl: HTMLElement, guardName: string) => {\n\tconst strategies = [\n\t\t() => document.getElementById(guardName), // by ID\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][name=\"${guardName}\"]`), // by name\n\t\t() => guardEl.querySelector(`[type=\"checkbox\"][data-gdpr-checkbox]`), // by specific attribute\n\t];\n\n\tfor (const strategy of strategies) {\n\t\tconst checkbox = strategy();\n\n\t\tif (checkbox?.matches?.(\"input[type='checkbox']\")) {\n\t\t\treturn checkbox as HTMLInputElement;\n\t\t}\n\t}\n\n\tthrow new NoCheckboxError();\n};\n\n/**\n * Retrieve the guard's description from the DOM\n * @param guardEl - The root of the guard's state tree\n */\nexport const descriptionFromDOM = (guardEl: HTMLElement) => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-description\")) {\n\t\treturn guardEl.dataset.gdprGuardDescription;\n\t}\n\n\tconst descriptionEl = guardEl.querySelector(\"[data-gdpr-guard-description]\");\n\n\treturn descriptionEl?.textContent ?? null;\n};\n\n/**\n * Get the {@link GdprStorage} from the DOM\n * @param guardEl - The root the guard's state tree\n */\nexport const storageFromDOM = (guardEl: HTMLElement): GdprStorage|null => {\n\tif (guardEl.hasAttribute(\"data-gdpr-guard-storage\")) {\n\t\tconst rawStorage = guardEl.dataset.gdprGuardStorage;\n\n\t\tif (rawStorage && rawStorage in GdprStorage) {\n\t\t\treturn GdprStorage[rawStorage];\n\t\t}\n\t}\n\n\treturn null;\n};\n\n/**\n * Check whether the guard is marked as required in the DOM\n * @param guardEl - The root of the guard's state tree\n * @param checkbox - The guard's checkbox\n */\nexport const guardIsRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement) => {\n\treturn checkbox.required || guardEl.hasAttribute(\"data-gdpr-guard-required\");\n};\n\n/**\n * Sync the required status across all attributes in the DOM\n * @param guardEl - The root of the guard's state tree\n * @param checkbox - The guard's checkbox\n * @param isRequired - Whether the guard is already marked as required\n */\nexport const syncRequiredInDOM = (guardEl: HTMLElement, checkbox: HTMLInputElement, isRequired: boolean = false) => {\n\tconst makeCheckedDisabled = () => {\n\t\tcheckbox.setAttribute(\"checked\", \"checked\");\n\t\tcheckbox.setAttribute(\"disabled\", \"disabled\");\n\t};\n\n\tconst makeRequired = () => {\n\t\tcheckbox.setAttribute(\"required\", \"required\");\n\t};\n\n\tconst addGdprRequiredAttr = () => {\n\t\tguardEl.setAttribute(\"data-gdpr-guard-required\", \"\");\n\t};\n\n\tif(isRequired) {\n\t\taddGdprRequiredAttr();\n\t\tmakeCheckedDisabled();\n\t\tmakeRequired();\n\t} else if (checkbox.required) {\n\t\taddGdprRequiredAttr();\n\t\tmakeCheckedDisabled();\n\t} else if (guardEl.hasAttribute(\"data-gdpr-guard-required\")) {\n\t\tmakeCheckedDisabled();\n\t\tmakeRequired();\n\t}\n}\n\n/**\n * Extract the manager's own details from the DOM\n * @param gdprEl - The root of the GDPR state tree\n */\nexport const parseManagerDetails = (gdprEl: HTMLElement) => {\n\tlet managerEl = gdprEl;\n\tconst { gdpr } = gdprEl.dataset;\n\tlet managerName: string = \"\";\n\n\tif (isMeaningfulStr(gdpr)) {\n\t\tmanagerName = gdpr;\n\t} else {\n\t\tconst el = gdprEl.querySelector<HTMLElement>(\"[data-gdpr-manager]\");\n\n\t\tif (!el) {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\n\t\tmanagerEl = el as HTMLElement;\n\t\tmanagerName = nameFromDOM(managerEl, \"gdpr-manager\");\n\t}\n\n\tconst managerCheckbox = checkboxFromDOM(managerEl, managerName);\n\n\treturn {\n\t\tmanagerEl,\n\t\tmanagerCheckbox,\n\t\tmanagerName,\n\t};\n};\n","/**\n * Execute an action/callback on each child\n * @param rootEl - The parent element\n * @param action - The action/callback to execute on each child\n */\nexport const forEachChild = (rootEl: HTMLElement, action: (el: HTMLElement) => void) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el) {\n\t\t\taction(el as HTMLElement);\n\t\t}\n\t}\n}\n\nexport const findChild = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\treturn el as HTMLElement;\n\t\t}\n\t}\n\n\treturn null;\n}\n\n/**\n * Find all the children that satisfy the given predicate\n * @param rootEl - The parent element\n * @param predicate - The predicate to satisfy\n */\nexport const findAllChildren = (rootEl: HTMLElement, predicate: (el: HTMLElement) => boolean) => {\n\tconst ret = [] as HTMLElement[];\n\n\tfor (let i = 0; i < rootEl.childElementCount; i += 1) {\n\t\tconst el = rootEl.children.item(i);\n\n\t\tif (el && predicate(el as HTMLElement)) {\n\t\t\tret.push(el as HTMLElement);\n\t\t}\n\t}\n\n\treturn ret;\n};\n\n/**\n * Get the first child that matches the given selector\n * @param rootEl - The parent element\n * @param selector - The children selector\n */\nexport const childSelector = (rootEl: HTMLElement, selector: string) => {\n\treturn findChild(rootEl, el => el.matches(selector));\n}\n\n/**\n * Get all the children of the given root that match the given selector\n * @param rootEl - The parent element\n * @param selector - The children selector\n */\nexport const childSelectorAll = (rootEl: HTMLElement, selector: string) => {\n\treturn findAllChildren(rootEl, el => el.matches(selector));\n};\n","import { GdprGroupBuilder, GdprManagerBuilder } from \"gdpr-guard\";\nimport {\n\tcheckboxFromDOM,\n\tdescriptionFromDOM,\n\tguardIsRequiredInDOM,\n\tnameFromDOM,\n\tstorageFromDOM, syncRequiredInDOM\n} from \"@/domainLogic/dataExtractors\";\nimport { childSelectorAll, forEachChild } from \"@/utils/dom\";\n\nexport interface GuardParseResult {\n\tname: string;\n\tcheckbox: HTMLInputElement;\n}\n\n/**\n * Parse a guard's data and add it to the manager\n * @param guardEl - The root element of the gaurd's data\n * @param groupBuilder - The current group builder's state\n * @param parentRequired - Whether the group is required\n */\nconst addGuard = (guardEl: HTMLElement, groupBuilder: GdprGroupBuilder, parentRequired: boolean): GuardParseResult => {\n\tconst guardBuilder = groupBuilder.startGuard();\n\n\tconst name = nameFromDOM(guardEl, \"gdpr-guard\");\n\tguardBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(guardEl, name);\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(guardEl, checkbox);\n\tsyncRequiredInDOM(guardEl, checkbox, isRequired);\n\n\tif (isRequired) {\n\t\tguardBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tguardBuilder.enabled();\n\t} else {\n\t\tguardBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(guardEl);\n\n\tif (description) {\n\t\tguardBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(guardEl);\n\n\tif (storage !== null) {\n\t\tguardBuilder.storedIn(storage);\n\t}\n\n\tguardBuilder.endGuard();\n\n\treturn {\n\t\tname,\n\t\tcheckbox,\n\t};\n};\n\n/**\n * Get the data for a group and add it to the manager\n * @param groupEl - The root of the group's data\n * @param managerBuilder - The current manager (or group) builder's state\n * @param parentRequired - Whether the manager (or parent group) is required\n * @throws {NoNameError} - If the group's name or a guard's name cannot be parsed\n */\nconst addGroup = (groupEl: HTMLElement, managerBuilder: GdprManagerBuilder, parentRequired: boolean): GuardParseResult[] => {\n\tconst groupBuilder = managerBuilder.startGroup();\n\n\t// The name is mandatory, if it can't parse it then it'll throw\n\tconst name = nameFromDOM(groupEl, \"gdpr-group\");\n\tgroupBuilder.withName(name);\n\n\tconst checkbox = checkboxFromDOM(groupEl, name);\n\n\tconst parsedGuards = [{\n\t\tname,\n\t\tcheckbox,\n\t}];\n\n\tconst isRequired = parentRequired || guardIsRequiredInDOM(groupEl, checkbox);\n\tsyncRequiredInDOM(groupEl, checkbox, isRequired);\n\n\tif (isRequired) {\n\t\tgroupBuilder.required().enabled();\n\t} else if (checkbox.checked) {\n\t\tgroupBuilder.enabled();\n\t} else {\n\t\tgroupBuilder.disabled();\n\t}\n\n\tconst description = descriptionFromDOM(groupEl);\n\n\tif (description) {\n\t\tgroupBuilder.withDescription(description);\n\t}\n\n\tconst storage = storageFromDOM(groupEl);\n\n\tif (storage !== null) {\n\t\tgroupBuilder.storedIn(storage);\n\t}\n\n\t// Recursively parse child guards from there\n\tconst guards = addChildGuards(groupEl, groupBuilder, isRequired);\n\tgroupBuilder.endGroup();\n\n\n\tparsedGuards.push(...guards);\n\treturn parsedGuards;\n};\n\n/**\n * Recursively add the child guards of a group to the manager\n * @param rootEl - The root element for that group\n * @param groupBuilder - The current group builder's state\n * @param required - Whether the group is required\n */\nconst addChildGuards = (rootEl: HTMLElement, groupBuilder: GdprGroupBuilder, required: boolean = false): GuardParseResult[] => {\n\tconst parsedGuards = [] as GuardParseResult[];\n\n\tforEachChild(rootEl, el => {\n\t\tif (el?.matches(\"[data-gdpr-group]\")) {\n\t\t\tconst guards = addGroup(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(...guards);\n\t\t} else if (el?.matches(\"[data-gdpr-guard]\")) {\n\t\t\tconst guard = addGuard(el as HTMLElement, groupBuilder, required);\n\t\t\tparsedGuards.push(guard);\n\t\t}\n\t});\n\n\treturn parsedGuards;\n};\n\n/**\n * Get the guards from the DOM and add them all to the manager\n * @param managerEl - The root element of the manager's definition\n * @param managerBuilder - The current manager builder's state\n */\nexport const addGuardsFromDOM = (managerEl: HTMLElement, managerBuilder: GdprManagerBuilder): GuardParseResult[] => {\n\treturn childSelectorAll(managerEl, \"[data-gdpr-group]\")\n\t\t.flatMap(el => {\n\t\t\treturn addGroup(el as HTMLElement, managerBuilder, false);\n\t\t});\n};\n","type Listener = (e: Event) => void;\ntype EventName = string;\ntype Selector = string;\n\nexport const GlobalEventBus = {\n\t/**\n\t * Store the event managers and their listeners\n\t */\n\tevents: {} as Record<EventName, Record<Selector, Listener[]>>,\n\n\t/**\n\t * Add an event listener on the given selector as a live listener (i.e. is not limited to the current matching set of {@link HTMLElement})\n\t * @param event - The name of the event\n\t * @param selector - The selector to match against\n\t * @param listener - The listener to call when the event is triggered on an element that matches the given selector\n\t */\n\ton(event: EventName, selector: Selector, listener: Listener) {\n\t\tif (!(event in this.events)) { // This event had no selectors or listeners attached yet\n\t\t\tthis.events[event] = {\n\t\t\t\t[selector]: [listener],\n\t\t\t};\n\n\t\t\twindow.addEventListener(event, e => {\n\t\t\t\tObject.entries(this.events[event])\n\t\t\t\t\t.forEach(([selector, listeners]: [Selector, Listener[]]) => {\n\t\t\t\t\t\tconst target = e.target as HTMLElement|null;\n\n\t\t\t\t\t\tif (target?.matches?.(selector)) {\n\t\t\t\t\t\t\tlisteners.forEach(listener => listener(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tconst eventManager = this.events[event];\n\n\t\t\tif (!(selector in eventManager)) { // This event didn't have the selector registered yet\n\t\t\t\teventManager[selector] = [];\n\t\t\t}\n\n\t\t\teventManager[selector].push(listener);\n\t\t}\n\n\t}\n};\n","import { GdprGuard, GdprManager, GdprManagerFactory, GdprSavior } from \"gdpr-guard\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { GlobalEventBus } from \"@/utils/eventBus\";\nimport { GuardParseResult } from \"@/domainLogic/guardsParsing\";\n\n/**\n * Add listeners to the change event of the manager's and guards' checkboxes\n * @param manager - The manager to handle state changes for\n * @param managerCheckbox - The global manager toggle checkbox\n * @param parsedGuards - The guards that have been parsed from the DOM\n * @param hadManager - Whether the manager came from the savior instead of the factory\n */\nexport const setupCheckboxListeners = (manager: GdprManager, managerCheckbox: HTMLInputElement, parsedGuards: GuardParseResult[], hadManager: boolean) => {\n\tconst handleInitialSync = (checkbox: HTMLInputElement, guard: GdprGuard) => {\n\t\tif (hadManager) {\n\t\t\tif ((checkbox.checked && !guard.enabled) || (!checkbox.checked && guard.enabled)) {\n\t\t\t\tcheckbox.click();\n\t\t\t}\n\t\t}\n\t};\n\n\thandleInitialSync(managerCheckbox, manager);\n\n\tmanagerCheckbox.addEventListener(\"click\", () => {\n\t\tmanager.toggle();\n\t});\n\n\tparsedGuards.forEach(({ name, checkbox }) => {\n\t\tconst guard = manager.getGuard(name)!;\n\n\t\thandleInitialSync(checkbox, guard);\n\n\t\tcheckbox.addEventListener(\"click\", () => {\n\t\t\tguard.toggle();\n\t\t});\n\t});\n};\n\n/**\n * Setup item activation in the `<head>` tag (i.e. to execute code when the corresponding guard is enabled)\n * @param manager - The manager to attach the activation logic to\n * @param itemSelector - The selector to query all the related items (must include `[data-gdpr-on-enable]`)\n * @param setupItemHook - The function to call to set up the item before putting it in the DOM\n */\nexport const setupInHeadActivation = <ItemType extends HTMLElement = HTMLElement>(\n\tmanager: GdprManager,\n\titemSelector: string,\n\tsetupItemHook: (item: ItemType) => void\n) => {\n\tdocument.querySelectorAll<ItemType>(itemSelector)\n\t\t.forEach(item => {\n\t\t\tconst guardName = item.dataset.gdprOnEnable!;\n\n\t\t\tif (manager.hasGuard(guardName)) {\n\t\t\t\tmanager.events.onEnable(guardName, () => {\n\t\t\t\t\t/*\n\t\t\t\t\t\tScript tags have an internal attribute checking whether\n\t\t\t\t\t\tthey have already been loaded. Cloning a script will\n\t\t\t\t\t\talways clone that flag as well (which is unwanted).\n\t\t\t\t\t */\n\n\t\t\t\t\tconst isScript = item.matches(\"script\");\n\n\t\t\t\t\tconst clonedItem = (\n\t\t\t\t\t\tisScript\n\t\t\t\t\t\t\t? document.createElement(\"script\")\n\t\t\t\t\t\t\t: item.cloneNode(true)\n\t\t\t\t\t) as ItemType;\n\n\t\t\t\t\tif (isScript) {\n\t\t\t\t\t\t// Copy attributes over\n\t\t\t\t\t\titem.getAttributeNames().forEach(attrName => {\n\t\t\t\t\t\t\tconst attrValue = item.getAttribute(attrName)!;\n\t\t\t\t\t\t\tclonedItem.setAttribute(attrName, attrValue);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tsetupItemHook(clonedItem);\n\t\t\t\t\tclonedItem.removeAttribute(\"data-gdpr-on-enable\");\n\t\t\t\t\titem.remove();\n\t\t\t\t\tdocument.head.appendChild(clonedItem);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t});\n};\n\n\n/**\n * Setup scripts activation logic to load them when the corresponding guard is enabled (type must initially be text and the src attribute mst be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupScriptActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLScriptElement>(\n\t\tmanager,\n\t\t\"script[type='text'][src][data-gdpr-on-enable]\",\n\t\tactualScript => {\n\t\t\tactualScript.setAttribute(\"type\", \"text/javascript\");\n\t\t}\n\t);\n};\n\n/**\n * Setup stylesheets activation logic to load them when the corresponding guard is enabled (rel attribute must be different from stylesheet and the href attribute must be present)\n * @param manager - The manager to attach the activation logic to\n */\nexport const setupStyleSheetsActivation = (manager: GdprManager) => {\n\tsetupInHeadActivation<HTMLLinkElement>(\n\t\tmanager,\n\t\t\"link[href][data-gdpr-on-enable]\",\n\t\tactualStyleSheet => {\n\t\t\tactualStyleSheet.setAttribute(\"rel\", \"stylesheet\");\n\t\t}\n\t);\n};\n\nexport type BindEventsCallback = (eventsHub: GdprManagerEventHub) => void;\n\nexport type StoreErrorHandler = (didStore: boolean, error?: Error) => void;\n\nexport interface SetupButtonListenersHooks {\n\tonDeclineAllErrorHook: StoreErrorHandler;\n\tonAllowAllErrorHook: StoreErrorHandler;\n\tonCancelErrorHook: StoreErrorHandler;\n\tonSaveErrorHook: StoreErrorHandler;\n\tonBannerClose: () => void;\n\tonBannerOpen: () => void;\n}\n\n/**\n * Bind event listeners to the general buttons\n * @param manager\n * @param gdprSavior\n * @param hooks\n * @param restoreFactory\n */\nexport const setupButtonsListeners = (\n\tmanager: GdprManager,\n\tgdprSavior: GdprSavior,\n\thooks: SetupButtonListenersHooks,\n\trestoreFactory: GdprManagerFactory\n) => {\n\tconst doClose = () => {\n\t\tmanager.closeBanner();\n\t\thooks.onBannerClose();\n\t};\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-open]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.resetAndShowBanner();\n\t\thooks.onBannerOpen();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-decline-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.disable();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\thooks.onDeclineAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\tdoClose();\n\t\t\t\t}\n\t\t\t}).catch(e => hooks.onDeclineAllErrorHook(false, e));\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-allow-all]\", e => {\n\t\te.preventDefault();\n\n\t\tmanager.enable();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\thooks.onAllowAllErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\tdoClose();\n\t\t\t\t}\n\t\t\t}).catch(e => hooks.onAllowAllErrorHook(false, e));\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-cancel]\", e => {\n\t\te.preventDefault();\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst hadManager = await gdprSavior.exists(false);\n\n\t\t\t\tif (hadManager) {\n\t\t\t\t\tawait gdprSavior.restore(true);\n\t\t\t\t} else {\n\t\t\t\t\tawait gdprSavior.restoreOrCreate(restoreFactory);\n\t\t\t\t\t//TODO: Use save/restore new API (when it's out, for now the savior API has to suffice)\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\thooks.onCancelErrorHook(true, e as Error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tGlobalEventBus.on(\"click\", \"[data-gdpr-save]\", e => {\n\t\te.preventDefault();\n\n\t\tgdprSavior.store(manager.raw())\n\t\t\t.then(didStore => {\n\t\t\t\tif (!didStore) {\n\t\t\t\t\thooks.onSaveErrorHook(didStore);\n\t\t\t\t} else {\n\t\t\t\t\tdoClose();\n\t\t\t\t}\n\t\t\t}).catch(e => hooks.onSaveErrorHook(e));\n\t});\n};\n","import { NoManagerDefinitionError } from \"@/errors/NoManagerDefinitionError\";\nimport { GdprManager, GdprManagerBuilder, GdprSavior } from \"gdpr-guard\";\nimport { parseManagerDetails } from \"@/domainLogic/dataExtractors\";\nimport { GdprManagerEventHub } from \"gdpr-guard/dist/GdprManagerEventHub\";\nimport { addGuardsFromDOM } from \"@/domainLogic/guardsParsing\";\nimport {\n\tBindEventsCallback,\n\tsetupButtonsListeners,\n\tsetupCheckboxListeners,\n\tsetupScriptActivation,\n\tsetupStyleSheetsActivation,\n\tStoreErrorHandler,\n} from \"@/domainLogic/listeners\";\n\nexport type AddGuardsCallback = (managerBuilder: GdprManagerBuilder) => void;\n\nexport interface GdprHtmlManagerOptions {\n\t/**\n\t * The element that serves as the root of the GDPR manager's definition in the DOM\n\t * @default document.querySelector(\"[data-gdpr]\")\n\t */\n\tgdprEl?: HTMLElement;\n\n\t/**\n\t * Whether to auto close the banner (only if it has already been displayed to the user)\n\t * @default true\n\t */\n\tautoCloseBanner?: boolean;\n\n\t/**\n\t * A callback to attach event listeners to the {@link GdprManagerEventHub} before finalizing the setup\n\t * @default () => {}\n\t */\n\tbindEventHandlersHook?: BindEventsCallback;\n\n\t/**\n\t * Add guards before the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsBeforeHook?: AddGuardsCallback;\n\n\t/**\n\t * Add guards after the ones parsed from the DOM\n\t * @param managerBuilder\n\t * @default () => {}\n\t */\n\taddGuardsAfterHook?: AddGuardsCallback;\n\n\t/**\n\t * Handle failure of declining all\n\t */\n\tonDeclineAllErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of allowing all\n\t */\n\tonAllowAllErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of saving\n\t */\n\tonSaveErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Handle failure of cancelling\n\t */\n\tonCancelErrorHook?: StoreErrorHandler;\n\n\t/**\n\t * Execute code when closing the banner\n\t */\n\tonBannerClose?: () => void;\n\n\t/**\n\t * Execute code when opening the banner\n\t */\n\tonBannerOpen?: () => void;\n}\n\n// TODO: Reset API in gdpr-guard?\n\n/**\n * Initialize the gdpr-guard logic from the DOM or the provided {@link GdprSavior}\n * @param gdprSavior - The savior to use to restore and save the {@link GdprManager} data\n * @param {GdprHtmlManagerOptions} [options] - The setup's options\n * @returns {Promise<GdprManager>} The restored GDPR manager\n * @throws {NoManagerDefinitionError} - If no manager definition can be found\n * (either {@link gdprEl} is `undefined` or `document.querySelector(\"[data-gdpr]\")` returned `null`)\n */\nexport const restoreHtmlGdprManager = async (gdprSavior: GdprSavior, {\n\tgdprEl = undefined,\n\tautoCloseBanner = true,\n\n\tbindEventHandlersHook = () => {},\n\taddGuardsBeforeHook = () => {},\n\taddGuardsAfterHook = () => {},\n\n\tonDeclineAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onDeclineAllErrorHook]\", {didStore, err}),\n\tonAllowAllErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onAllowAllErrorHook]\", {didStore, err}),\n\tonSaveErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onSaveErrorHook]\", {didStore, err}),\n\tonCancelErrorHook = (didStore, err) => console.error(\"[HtmlGdprGuard @ onCancelErrorHook]\", {didStore, err}),\n\n\tonBannerClose = () => {},\n\tonBannerOpen = () => {},\n}: GdprHtmlManagerOptions = {}): Promise<GdprManager> => {\n\tif (typeof gdprEl === \"undefined\") {\n\t\tgdprEl = document.querySelector<HTMLElement>(\"[data-gdpr]\") ?? undefined;\n\n\t\tif (typeof gdprEl === \"undefined\") {\n\t\t\tthrow new NoManagerDefinitionError();\n\t\t}\n\t}\n\n\tconst { managerEl, managerCheckbox } = parseManagerDetails(gdprEl);\n\n\tconst managerBuilder = GdprManagerBuilder.make();\n\n\taddGuardsBeforeHook(managerBuilder);\n\tconst parsedGuards = addGuardsFromDOM(managerEl, managerBuilder);\n\taddGuardsAfterHook(managerBuilder);\n\n\tconst managerFactory = async () => managerBuilder.build();\n\tconst hadManager = await gdprSavior.exists(false);\n\tconst manager = await gdprSavior.restoreOrCreate(managerFactory);\n\n\tsetupScriptActivation(manager);\n\tsetupStyleSheetsActivation(manager);\n\tsetupCheckboxListeners(manager, managerCheckbox, parsedGuards, hadManager);\n\tsetupButtonsListeners(manager, gdprSavior, {\n\t\tonDeclineAllErrorHook,\n\t\tonAllowAllErrorHook,\n\t\tonSaveErrorHook,\n\t\tonCancelErrorHook,\n\t\tonBannerClose,\n\t\tonBannerOpen,\n\t}, managerFactory);\n\n\tbindEventHandlersHook(manager.events);\n\n\tif (autoCloseBanner && manager.bannerWasShown) {\n\t\tmanager.closeBanner();\n\t\tonBannerClose();\n\t} else { // Allows banner to be in closed state by default and open it when JS is ready\n\t\tmanager.resetAndShowBanner();\n\t\tonBannerOpen();\n\t}\n\n\treturn manager;\n};\n\nexport * from \"./errors\";\n"],"names":["root","factory","exports","module","define","amd","self","t","r","e","Object","defineProperty","value","makeGuard","n","o","i","GdprStorage","Cookie","name","description","storage","required","enabled","enable","this","toggle","disable","makeRequired","isEnabled","enableForStorage","toggleForStorage","disableForStorage","raw","JSON","parse","stringify","__values","Symbol","iterator","call","length","next","done","TypeError","__read","u","push","error","return","__spreadArray","arguments","Array","prototype","slice","concat","GdprGuardGroup","a","None","bindings","Map","for","addGuard","set","hasGuard","has","getGuard","get","s","doForEachGuard","guards","map","forEach","getGuards","values","GdprManager","d","c","bannerWasShown","events","GdprManagerEventHub","groups","create","addGroup","closeBanner","visitGdpr","onEach","resetAndShowBanner","createGroup","reduceGroupsPred","hasGroup","getGroup","forEachGroup","getGroups","eventMap","onEnable","addListener","onDisable","executeListeners","tagFor","LocalStorage","SessionStorage","IndexedDb","FileSystem","ServerStorage","All","__extends","setPrototypeOf","__proto__","hasOwnProperty","String","constructor","GdprGroupBuilder","p","parent","require","startGroup","startRequiredGroup","endGroup","withName","edit","withDescription","storedIn","disabled","startGuard","GdprGuardBuilder","startRequiredGuard","withEnabledGuard","endGuard","withDisabledGuard","GdprManagerBuilder","make","withBannerShown","startEnabledGroup","startDisabledGroup","build","__createBinding","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","__exportStar","GdprDeserializer","manager","every","isArray","group","filter","guard","__awaiter","Promise","throw","then","apply","__generator","label","sent","trys","ops","pop","GdprSaviorAdapter","exists","restore","storeIfNotExists","store","restoreOrCreate","updateSharedManager","check","resolve","setTimeout","onManager","onGroup","onGuard","l","f","h","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","key","obj","prop","toStringTag","message","Error","NoManagerDefinitionError","defaultMessage","HtmlGdprGuardError","NoNameError","NoCheckboxError","isMeaningfulStr","str","test","nameFromDOM","guardEl","guardDataKey","nameDataKey","dataset","replace","_","letter","toUpperCase","toCamelCase","trim","rootEl","selector","nameHolder","predicate","childElementCount","el","children","item","findChild","matches","textName","textContent","checkboxFromDOM","guardName","strategies","document","getElementById","querySelector","checkbox","strategy","descriptionFromDOM","hasAttribute","gdprGuardDescription","descriptionEl","storageFromDOM","rawStorage","gdprGuardStorage","guardIsRequiredInDOM","syncRequiredInDOM","isRequired","makeCheckedDisabled","setAttribute","addGdprRequiredAttr","groupEl","managerBuilder","parentRequired","groupBuilder","parsedGuards","checked","addChildGuards","action","forEachChild","guardBuilder","GlobalEventBus","on","event","listener","eventManager","window","addEventListener","entries","listeners","target","setupInHeadActivation","itemSelector","setupItemHook","querySelectorAll","gdprOnEnable","isScript","clonedItem","createElement","cloneNode","getAttributeNames","attrName","attrValue","getAttribute","removeAttribute","remove","head","appendChild","restoreHtmlGdprManager","gdprSavior","gdprEl","autoCloseBanner","bindEventHandlersHook","addGuardsBeforeHook","addGuardsAfterHook","onDeclineAllErrorHook","didStore","err","console","onAllowAllErrorHook","onSaveErrorHook","onCancelErrorHook","onBannerClose","onBannerOpen","managerEl","gdpr","managerName","managerCheckbox","parseManagerDetails","ret","findAllChildren","flatMap","addGuardsFromDOM","managerFactory","hadManager","actualScript","setupScriptActivation","actualStyleSheet","setupStyleSheetsActivation","handleInitialSync","click","setupCheckboxListeners","hooks","restoreFactory","doClose","preventDefault","catch","setupButtonsListeners"],"sourceRoot":""}